var Se=Object.defineProperty;var Ee=(e,t,n)=>t in e?Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var U=(e,t,n)=>(Ee(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(e,t){const n=new Set(e.split(","));return t?o=>n.has(o.toLowerCase()):o=>n.has(o)}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isDate=e=>toTypeString(e)==="[object Date]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject$1=e=>e!==null&&typeof e=="object",isPromise=e=>(isObject$1(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$1=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},def=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=isString(o)?parseStringStyle(o):normalizeStyle(o);if(r)for(const i in r)t[i]=r[i]}return t}else if(isString(e)||isObject$1(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const o=n.split(propertyDelimiterRE);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function normalizeClass(e){let t="";if(isString(e))t=e;else if(isArray(e))for(let n=0;n<e.length;n++){const o=normalizeClass(e[n]);o&&(t+=o+" ")}else if(isObject$1(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=looseEqual(e[o],t[o]);return n}function looseEqual(e,t){if(e===t)return!0;let n=isDate(e),o=isDate(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=isSymbol(e),o=isSymbol(t),n||o)return e===t;if(n=isArray(e),o=isArray(t),n||o)return n&&o?looseCompareArrays(e,t):!1;if(n=isObject$1(e),o=isObject$1(t),n||o){if(!n||!o)return!1;const r=Object.keys(e).length,i=Object.keys(t).length;if(r!==i)return!1;for(const s in e){const l=e.hasOwnProperty(s),a=t.hasOwnProperty(s);if(l&&!a||!l&&a||!looseEqual(e[s],t[s]))return!1}}return String(e)===String(t)}function looseIndexOf(e,t){return e.findIndex(n=>looseEqual(n,t))}const toDisplayString=e=>isString(e)?e:e==null?"":isArray(e)||isObject$1(e)&&(e.toString===objectToString||!isFunction(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,r],i)=>(n[stringifySymbol(o,i)+" =>"]=r,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>stringifySymbol(n))}:isSymbol(t)?stringifySymbol(t):isObject$1(t)&&!isArray(t)&&!isPlainObject$1(t)?String(t):t,stringifySymbol=(e,t="")=>{var n;return isSymbol(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e){activeEffectScope&&activeEffectScope.cleanups.push(e)}let activeEffect;class ReactiveEffect{constructor(t,n,o,r){this.fn=t,this.trigger=n,this.scheduler=o,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,recordEffectScope(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,pauseTracking();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(triggerComputed(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),resetTracking()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=shouldTrack,n=activeEffect;try{return shouldTrack=!0,activeEffect=this,this._runnings++,preCleanupEffect(this),this.fn()}finally{postCleanupEffect(this),this._runnings--,activeEffect=n,shouldTrack=t}}stop(){var t;this.active&&(preCleanupEffect(this),postCleanupEffect(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function triggerComputed(e){return e.value}function preCleanupEffect(e){e._trackId++,e._depsLength=0}function postCleanupEffect(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)cleanupDepEffect(e.deps[t],e);e.deps.length=e._depsLength}}function cleanupDepEffect(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let shouldTrack=!0,pauseScheduleStack=0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function pauseScheduling(){pauseScheduleStack++}function resetScheduling(){for(pauseScheduleStack--;!pauseScheduleStack&&queueEffectSchedulers.length;)queueEffectSchedulers.shift()()}function trackEffect(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const o=e.deps[e._depsLength];o!==t?(o&&cleanupDepEffect(o,e),e.deps[e._depsLength++]=t):e._depsLength++}}const queueEffectSchedulers=[];function triggerEffects(e,t,n){pauseScheduling();for(const o of e.keys()){let r;o._dirtyLevel<t&&(r??(r=e.get(o)===o._trackId))&&(o._shouldSchedule||(o._shouldSchedule=o._dirtyLevel===0),o._dirtyLevel=t),o._shouldSchedule&&(r??(r=e.get(o)===o._trackId))&&(o.trigger(),(!o._runnings||o.allowRecurse)&&o._dirtyLevel!==2&&(o._shouldSchedule=!1,o.scheduler&&queueEffectSchedulers.push(o.scheduler)))}resetScheduling()}const createDep=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");function track(e,t,n){if(shouldTrack&&activeEffect){let o=targetMap.get(e);o||targetMap.set(e,o=new Map);let r=o.get(n);r||o.set(n,r=createDep(()=>o.delete(n))),trackEffect(activeEffect,r)}}function trigger(e,t,n,o,r,i){const s=targetMap.get(e);if(!s)return;let l=[];if(t==="clear")l=[...s.values()];else if(n==="length"&&isArray(e)){const a=Number(o);s.forEach((c,u)=>{(u==="length"||!isSymbol(u)&&u>=a)&&l.push(c)})}else switch(n!==void 0&&l.push(s.get(n)),t){case"add":isArray(e)?isIntegerKey(n)&&l.push(s.get("length")):(l.push(s.get(ITERATE_KEY)),isMap(e)&&l.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(e)||(l.push(s.get(ITERATE_KEY)),isMap(e)&&l.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&l.push(s.get(ITERATE_KEY));break}pauseScheduling();for(const a of l)a&&triggerEffects(a,4);resetScheduling()}function getDepFromReactive(e,t){var n;return(n=targetMap.get(e))==null?void 0:n.get(t)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=toRaw(this);for(let i=0,s=this.length;i<s;i++)track(o,"get",i+"");const r=o[t](...n);return r===-1||r===!1?o[t](...n.map(toRaw)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){pauseTracking(),pauseScheduling();const o=toRaw(this)[t].apply(this,n);return resetScheduling(),resetTracking(),o}}),e}function hasOwnProperty(e){isSymbol(e)||(e=String(e));const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}class BaseReactiveHandler{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return o===(r?i?shallowReadonlyMap:readonlyMap:i?shallowReactiveMap:reactiveMap).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const s=isArray(t);if(!r){if(s&&hasOwn(arrayInstrumentations,n))return Reflect.get(arrayInstrumentations,n,o);if(n==="hasOwnProperty")return hasOwnProperty}const l=Reflect.get(t,n,o);return(isSymbol(n)?builtInSymbols.has(n):isNonTrackableKeys(n))||(r||track(t,"get",n),i)?l:isRef(l)?s&&isIntegerKey(n)?l:l.value:isObject$1(l)?r?readonly(l):reactive(l):l}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,n,o,r){let i=t[n];if(!this._isShallow){const a=isReadonly(i);if(!isShallow(o)&&!isReadonly(o)&&(i=toRaw(i),o=toRaw(o)),!isArray(t)&&isRef(i)&&!isRef(o))return a?!1:(i.value=o,!0)}const s=isArray(t)&&isIntegerKey(n)?Number(n)<t.length:hasOwn(t,n),l=Reflect.set(t,n,o,r);return t===toRaw(r)&&(s?hasChanged(o,i)&&trigger(t,"set",n,o):trigger(t,"add",n,o)),l}deleteProperty(t,n){const o=hasOwn(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&o&&trigger(t,"delete",n,void 0),r}has(t,n){const o=Reflect.has(t,n);return(!isSymbol(n)||!builtInSymbols.has(n))&&track(t,"has",n),o}ownKeys(t){return track(t,"iterate",isArray(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get(e,t,n=!1,o=!1){e=e.__v_raw;const r=toRaw(e),i=toRaw(t);n||(hasChanged(t,i)&&track(r,"get",t),track(r,"get",i));const{has:s}=getProto(r),l=o?toShallow:n?toReadonly:toReactive;if(s.call(r,t))return l(e.get(t));if(s.call(r,i))return l(e.get(i));e!==r&&e.get(t)}function has(e,t=!1){const n=this.__v_raw,o=toRaw(n),r=toRaw(e);return t||(hasChanged(e,r)&&track(o,"has",e),track(o,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set(e,t){t=toRaw(t);const n=toRaw(this),{has:o,get:r}=getProto(n);let i=o.call(n,e);i||(e=toRaw(e),i=o.call(n,e));const s=r.call(n,e);return n.set(e,t),i?hasChanged(t,s)&&trigger(n,"set",e,t):trigger(n,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:n,get:o}=getProto(t);let r=n.call(t,e);r||(e=toRaw(e),r=n.call(t,e)),o&&o.call(t,e);const i=t.delete(e);return r&&trigger(t,"delete",e,void 0),i}function clear$1(){const e=toRaw(this),t=e.size!==0,n=e.clear();return t&&trigger(e,"clear",void 0,void 0),n}function createForEach(e,t){return function(o,r){const i=this,s=i.__v_raw,l=toRaw(s),a=t?toShallow:e?toReadonly:toReactive;return!e&&track(l,"iterate",ITERATE_KEY),s.forEach((c,u)=>o.call(r,a(c),a(u),i))}}function createIterableMethod(e,t,n){return function(...o){const r=this.__v_raw,i=toRaw(r),s=isMap(i),l=e==="entries"||e===Symbol.iterator&&s,a=e==="keys"&&s,c=r[e](...o),u=n?toShallow:t?toReadonly:toReactive;return!t&&track(i,"iterate",a?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:d,done:g}=c.next();return g?{value:d,done:g}:{value:l?[u(d[0]),u(d[1])]:u(d),done:g}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(){const e={get(i){return get(this,i)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear:clear$1,forEach:createForEach(!1,!1)},t={get(i){return get(this,i,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear:clear$1,forEach:createForEach(!1,!0)},n={get(i){return get(this,i,!0)},get size(){return size(this,!0)},has(i){return has.call(this,i,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},o={get(i){return get(this,i,!0,!0)},get size(){return size(this,!0)},has(i){return has.call(this,i,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=createIterableMethod(i,!1,!1),n[i]=createIterableMethod(i,!0,!1),t[i]=createIterableMethod(i,!1,!0),o[i]=createIterableMethod(i,!0,!0)}),[e,n,t,o]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const n=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(o,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(hasOwn(n,r)&&r in o?n:o,r,i)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,n,o,r){if(!isObject$1(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const s=getTargetType(e);if(s===0)return e;const l=new Proxy(e,s===2?o:n);return r.set(e,l),l}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return e?!!e.__v_raw:!1}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject$1(e)?reactive(e):e,toReadonly=e=>isObject$1(e)?readonly(e):e;class ComputedRefImpl{constructor(t,n,o,r){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ReactiveEffect(()=>t(this._value),()=>triggerRefValue(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=o}get value(){const t=toRaw(this);return(!t._cacheable||t.effect.dirty)&&hasChanged(t._value,t._value=t.effect.run())&&triggerRefValue(t,4),trackRefValue(t),t.effect._dirtyLevel>=2&&triggerRefValue(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function computed$1(e,t,n=!1){let o,r;const i=isFunction(e);return i?(o=e,r=NOOP):(o=e.get,r=e.set),new ComputedRefImpl(o,r,i||!r,n)}function trackRefValue(e){var t;shouldTrack&&activeEffect&&(e=toRaw(e),trackEffect(activeEffect,(t=e.dep)!=null?t:e.dep=createDep(()=>e.dep=void 0,e instanceof ComputedRefImpl?e:void 0)))}function triggerRefValue(e,t=4,n){e=toRaw(e);const o=e.dep;o&&triggerEffects(o,t)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const n=this.__v_isShallow||isShallow(t)||isReadonly(t);t=n?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:toReactive(t),triggerRefValue(this,4))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,n)=>unref(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return isRef(r)&&!isRef(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}function toRefs(e){const t=isArray(e)?new Array(e.length):{};for(const n in e)t[n]=propertyToRef(e,n);return t}class ObjectRefImpl{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function propertyToRef(e,t,n){const o=e[t];return isRef(o)?o:new ObjectRefImpl(e,t,n)}/**
* @vue/runtime-core v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];function warn$1(e,...t){pauseTracking();const n=stack.length?stack[stack.length-1].component:null,o=n&&n.appContext.config.warnHandler,r=getComponentTrace();if(o)callWithErrorHandling(o,n,11,[e+t.map(i=>{var s,l;return(l=(s=i.toString)==null?void 0:s.call(i))!=null?l:JSON.stringify(i)}).join(""),n&&n.proxy,r.map(({vnode:i})=>`at <${formatComponentName(n,i.type)}>`).join(`
`),r]);else{const i=[`[Vue warn]: ${e}`,...t];r.length&&i.push(`
`,...formatTrace(r)),console.warn(...i)}resetTracking()}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function formatTrace(e){const t=[];return e.forEach((n,o)=>{t.push(...o===0?[]:[`
`],...formatTraceEntry(n))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,r=` at <${formatComponentName(e.component,e.type,o)}`,i=">"+n;return e.props?[r,...formatProps(e.props),i]:[r+i]}function formatProps(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(o=>{t.push(...formatProp(o,e[o]))}),n.length>3&&t.push(" ..."),t}function formatProp(e,t,n){return isString(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):isFunction(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),n?t:[`${e}=`,t])}function callWithErrorHandling(e,t,n,o){try{return o?e(...o):e()}catch(r){handleError$1(r,t,n)}}function callWithAsyncErrorHandling(e,t,n,o){if(isFunction(e)){const r=callWithErrorHandling(e,t,n,o);return r&&isPromise(r)&&r.catch(i=>{handleError$1(i,t,n)}),r}if(isArray(e)){const r=[];for(let i=0;i<e.length;i++)r.push(callWithAsyncErrorHandling(e[i],t,n,o));return r}}function handleError$1(e,t,n,o=!0){const r=t?t.vnode:null;if(t){let i=t.parent;const s=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,s,l)===!1)return}i=i.parent}const a=t.appContext.config.errorHandler;if(a){pauseTracking(),callWithErrorHandling(a,null,10,[e,s,l]),resetTracking();return}}logError(e,n,r,o)}function logError(e,t,n,o=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,n=queue.length;for(;t<n;){const o=t+n>>>1,r=queue[o],i=getId(r);i<e||i===e&&r.pre?t=o+1:n=o}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t,n=isFlushing?flushIndex+1:0){for(;n<queue.length;n++){const o=queue[n];if(o&&o.pre){if(e&&o.id!==e.uid)continue;queue.splice(n,1),n--,o()}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)].sort((n,o)=>getId(n)-getId(o));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const n=getId(e)-getId(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&t.active!==!1&&callWithErrorHandling(t,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||EMPTY_OBJ;let r=n;const i=t.startsWith("update:"),s=i&&t.slice(7);if(s&&s in o){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:g}=o[u]||EMPTY_OBJ;g&&(r=n.map(v=>isString(v)?v.trim():v)),d&&(r=n.map(looseToNumber))}let l,a=o[l=toHandlerKey(t)]||o[l=toHandlerKey(camelize(t))];!a&&i&&(a=o[l=toHandlerKey(hyphenate(t))]),a&&callWithAsyncErrorHandling(a,e,6,r);const c=o[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,callWithAsyncErrorHandling(c,e,6,r)}}function normalizeEmitsOptions(e,t,n=!1){const o=t.emitsCache,r=o.get(e);if(r!==void 0)return r;const i=e.emits;let s={},l=!1;if(!isFunction(e)){const a=c=>{const u=normalizeEmitsOptions(c,t,!0);u&&(l=!0,extend(s,u))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!i&&!l?(isObject$1(e)&&o.set(e,null),null):(isArray(i)?i.forEach(a=>s[a]=null):extend(s,i),isObject$1(e)&&o.set(e,s),s)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}function withCtx(e,t=currentRenderingInstance,n){if(!t||e._n)return e;const o=(...r)=>{o._d&&setBlockTracking(-1);const i=setCurrentRenderingInstance(t);let s;try{s=e(...r)}finally{setCurrentRenderingInstance(i),o._d&&setBlockTracking(1)}return s};return o._n=!0,o._c=!0,o._d=!0,o}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:n,proxy:o,withProxy:r,props:i,propsOptions:[s],slots:l,attrs:a,emit:c,render:u,renderCache:d,data:g,setupState:v,ctx:b,inheritAttrs:m}=e;let P,T;const R=setCurrentRenderingInstance(e);try{if(n.shapeFlag&4){const F=r||o,V=F;P=normalizeVNode(u.call(V,F,d,i,v,g,b)),T=a}else{const F=t;P=normalizeVNode(F.length>1?F(i,{attrs:a,slots:l,emit:c}):F(i,null)),T=t.props?a:getFunctionalFallthrough(a)}}catch(F){blockStack.length=0,handleError$1(F,e,1),P=createVNode(Comment)}let C=P;if(T&&m!==!1){const F=Object.keys(T),{shapeFlag:V}=C;F.length&&V&7&&(s&&F.some(isModelListener)&&(T=filterModelListeners(T,s)),C=cloneVNode(C,T))}return n.dirs&&(C=cloneVNode(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),P=C,setCurrentRenderingInstance(R),P}const getFunctionalFallthrough=e=>{let t;for(const n in e)(n==="class"||n==="style"||isOn(n))&&((t||(t={}))[n]=e[n]);return t},filterModelListeners=(e,t)=>{const n={};for(const o in e)(!isModelListener(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function shouldUpdateComponent(e,t,n){const{props:o,children:r,component:i}=e,{props:s,children:l,patchFlag:a}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return o?hasPropsChanged(o,s,c):!!s;if(a&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const g=u[d];if(s[g]!==o[g]&&!isEmitListener(c,g))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:o===s?!1:o?s?hasPropsChanged(o,s,c):!0:!!s;return!1}function hasPropsChanged(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const i=o[r];if(t[i]!==e[i]&&!isEmitListener(n,i))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const COMPONENTS="components",NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(e){return isString(e)?resolveAsset(COMPONENTS,e,!1)||e:e||NULL_DYNAMIC_COMPONENT}function resolveAsset(e,t,n=!0,o=!1){const r=currentRenderingInstance||currentInstance;if(r){const i=r.type;if(e===COMPONENTS){const l=getComponentName(i,!1);if(l&&(l===t||l===camelize(t)||l===capitalize(camelize(t))))return i}const s=resolve(r[e]||i[e],t)||resolve(r.appContext[e],t);return!s&&o?i:s}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),INITIAL_WATCHER_VALUE={};function watch(e,t,n){return doWatch(e,t,n)}function doWatch(e,t,{immediate:n,deep:o,flush:r,once:i,onTrack:s,onTrigger:l}=EMPTY_OBJ){if(t&&i){const B=t;t=(...Y)=>{B(...Y),V()}}const a=currentInstance,c=B=>o===!0?B:traverse(B,o===!1?1:void 0);let u,d=!1,g=!1;if(isRef(e)?(u=()=>e.value,d=isShallow(e)):isReactive(e)?(u=()=>c(e),d=!0):isArray(e)?(g=!0,d=e.some(B=>isReactive(B)||isShallow(B)),u=()=>e.map(B=>{if(isRef(B))return B.value;if(isReactive(B))return c(B);if(isFunction(B))return callWithErrorHandling(B,a,2)})):isFunction(e)?t?u=()=>callWithErrorHandling(e,a,2):u=()=>(v&&v(),callWithAsyncErrorHandling(e,a,3,[b])):u=NOOP,t&&o){const B=u;u=()=>traverse(B())}let v,b=B=>{v=C.onStop=()=>{callWithErrorHandling(B,a,4),v=C.onStop=void 0}},m;if(isInSSRComponentSetup)if(b=NOOP,t?n&&callWithAsyncErrorHandling(t,a,3,[u(),g?[]:void 0,b]):u(),r==="sync"){const B=useSSRContext();m=B.__watcherHandles||(B.__watcherHandles=[])}else return NOOP;let P=g?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const T=()=>{if(!(!C.active||!C.dirty))if(t){const B=C.run();(o||d||(g?B.some((Y,D)=>hasChanged(Y,P[D])):hasChanged(B,P)))&&(v&&v(),callWithAsyncErrorHandling(t,a,3,[B,P===INITIAL_WATCHER_VALUE?void 0:g&&P[0]===INITIAL_WATCHER_VALUE?[]:P,b]),P=B)}else C.run()};T.allowRecurse=!!t;let R;r==="sync"?R=T:r==="post"?R=()=>queuePostRenderEffect(T,a&&a.suspense):(T.pre=!0,a&&(T.id=a.uid),R=()=>queueJob(T));const C=new ReactiveEffect(u,NOOP,R),F=getCurrentScope(),V=()=>{C.stop(),F&&remove(F.effects,C)};return t?n?T():P=C.run():r==="post"?queuePostRenderEffect(C.run.bind(C),a&&a.suspense):C.run(),m&&m.push(V),V}function instanceWatch(e,t,n){const o=this.proxy,r=isString(e)?e.includes(".")?createPathGetter(o,e):()=>o[e]:e.bind(o,o);let i;isFunction(t)?i=t:(i=t.handler,n=t);const s=setCurrentInstance(this),l=doWatch(r,i.bind(o),n);return s(),l}function createPathGetter(e,t){const n=t.split(".");return()=>{let o=e;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}function traverse(e,t,n=0,o){if(!isObject$1(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(o=o||new Set,o.has(e))return e;if(o.add(e),isRef(e))traverse(e.value,t,n,o);else if(isArray(e))for(let r=0;r<e.length;r++)traverse(e[r],t,n,o);else if(isSet(e)||isMap(e))e.forEach(r=>{traverse(r,t,n,o)});else if(isPlainObject$1(e))for(const r in e)traverse(e[r],t,n,o);return e}function withDirectives(e,t){if(currentRenderingInstance===null)return e;const n=getExposeProxy(currentRenderingInstance)||currentRenderingInstance.proxy,o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,s,l,a=EMPTY_OBJ]=t[r];i&&(isFunction(i)&&(i={mounted:i,updated:i}),i.deep&&traverse(s),o.push({dir:i,instance:n,value:s,oldValue:void 0,arg:l,modifiers:a}))}return e}function invokeDirectiveHook(e,t,n,o){const r=e.dirs,i=t&&t.dirs;for(let s=0;s<r.length;s++){const l=r[s];i&&(l.oldValue=i[s].value);let a=l.dir[o];a&&(pauseTracking(),callWithAsyncErrorHandling(a,n,8,[e.el,l,e,t]),resetTracking())}}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(e,t){return isFunction(e)?extend({name:e.name},t,{setup:e}):e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,n=currentInstance){const o=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(injectHook(t,o,n),n){let r=n.parent;for(;r&&r.parent;)isKeepAlive(r.parent.vnode)&&injectToKeepAliveRoot(o,t,n,r),r=r.parent}}function injectToKeepAliveRoot(e,t,n,o){const r=injectHook(t,e,o,!0);onUnmounted(()=>{remove(o[t],r)},n)}function injectHook(e,t,n=currentInstance,o=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;pauseTracking();const l=setCurrentInstance(n),a=callWithAsyncErrorHandling(t,n,e,s);return l(),resetTracking(),a});return o?r.unshift(i):r.push(i),i}}const createHook=e=>(t,n=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...o)=>t(...o),n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}function renderList(e,t,n,o){let r;const i=n&&n[o];if(isArray(e)||isString(e)){r=new Array(e.length);for(let s=0,l=e.length;s<l;s++)r[s]=t(e[s],s,void 0,i&&i[s])}else if(typeof e=="number"){r=new Array(e);for(let s=0;s<e;s++)r[s]=t(s+1,s,void 0,i&&i[s])}else if(isObject$1(e))if(e[Symbol.iterator])r=Array.from(e,(s,l)=>t(s,l,void 0,i&&i[l]));else{const s=Object.keys(e);r=new Array(s.length);for(let l=0,a=s.length;l<a;l++){const c=s[l];r[l]=t(e[c],c,l,i&&i[l])}}else r=[];return n&&(n[o]=r),r}function renderSlot(e,t,n={},o,r){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return t!=="default"&&(n.name=t),createVNode("slot",n,o&&o());let i=e[t];i&&i._c&&(i._d=!1),openBlock();const s=i&&ensureValidVNode(i(n)),l=createBlock(Fragment,{key:n.key||s&&s.key||`_${t}`},s||(o?o():[]),s&&e._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function ensureValidVNode(e){return e.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?e:null}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:r,props:i,accessCache:s,type:l,appContext:a}=e;let c;if(t[0]!=="$"){const v=s[t];if(v!==void 0)switch(v){case 1:return o[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(hasSetupBinding(o,t))return s[t]=1,o[t];if(r!==EMPTY_OBJ&&hasOwn(r,t))return s[t]=2,r[t];if((c=e.propsOptions[0])&&hasOwn(c,t))return s[t]=3,i[t];if(n!==EMPTY_OBJ&&hasOwn(n,t))return s[t]=4,n[t];shouldCacheAccess&&(s[t]=0)}}const u=publicPropertiesMap[t];let d,g;if(u)return t==="$attrs"&&track(e.attrs,"get",""),u(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(n!==EMPTY_OBJ&&hasOwn(n,t))return s[t]=4,n[t];if(g=a.config.globalProperties,hasOwn(g,t))return g[t]},set({_:e},t,n){const{data:o,setupState:r,ctx:i}=e;return hasSetupBinding(r,t)?(r[t]=n,!0):o!==EMPTY_OBJ&&hasOwn(o,t)?(o[t]=n,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,propsOptions:i}},s){let l;return!!n[s]||e!==EMPTY_OBJ&&hasOwn(e,s)||hasSetupBinding(t,s)||(l=i[0])&&hasOwn(l,s)||hasOwn(o,s)||hasOwn(publicPropertiesMap,s)||hasOwn(r.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:hasOwn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function normalizePropsOrEmits(e){return isArray(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),n=e.proxy,o=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:s,watch:l,provide:a,inject:c,created:u,beforeMount:d,mounted:g,beforeUpdate:v,updated:b,activated:m,deactivated:P,beforeDestroy:T,beforeUnmount:R,destroyed:C,unmounted:F,render:V,renderTracked:B,renderTriggered:Y,errorCaptured:D,serverPrefetch:H,expose:O,inheritAttrs:L,components:j,directives:Z,filters:fe}=t;if(c&&resolveInjections(c,o,null),s)for(const G in s){const W=s[G];isFunction(W)&&(o[G]=W.bind(n))}if(r){const G=r.call(n,n);isObject$1(G)&&(e.data=reactive(G))}if(shouldCacheAccess=!0,i)for(const G in i){const W=i[G],re=isFunction(W)?W.bind(n,n):isFunction(W.get)?W.get.bind(n,n):NOOP,ce=!isFunction(W)&&isFunction(W.set)?W.set.bind(n):NOOP,ie=computed({get:re,set:ce});Object.defineProperty(o,G,{enumerable:!0,configurable:!0,get:()=>ie.value,set:te=>ie.value=te})}if(l)for(const G in l)createWatcher(l[G],o,n,G);if(a){const G=isFunction(a)?a.call(n):a;Reflect.ownKeys(G).forEach(W=>{provide(W,G[W])})}u&&callHook(u,e,"c");function J(G,W){isArray(W)?W.forEach(re=>G(re.bind(n))):W&&G(W.bind(n))}if(J(onBeforeMount,d),J(onMounted,g),J(onBeforeUpdate,v),J(onUpdated,b),J(onActivated,m),J(onDeactivated,P),J(onErrorCaptured,D),J(onRenderTracked,B),J(onRenderTriggered,Y),J(onBeforeUnmount,R),J(onUnmounted,F),J(onServerPrefetch,H),isArray(O))if(O.length){const G=e.exposed||(e.exposed={});O.forEach(W=>{Object.defineProperty(G,W,{get:()=>n[W],set:re=>n[W]=re})})}else e.exposed||(e.exposed={});V&&e.render===NOOP&&(e.render=V),L!=null&&(e.inheritAttrs=L),j&&(e.components=j),Z&&(e.directives=Z)}function resolveInjections(e,t,n=NOOP){isArray(e)&&(e=normalizeInject(e));for(const o in e){const r=e[o];let i;isObject$1(r)?"default"in r?i=inject(r.from||o,r.default,!0):i=inject(r.from||o):i=inject(r),isRef(i)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):t[o]=i}}function callHook(e,t,n){callWithAsyncErrorHandling(isArray(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function createWatcher(e,t,n,o){const r=o.includes(".")?createPathGetter(n,o):()=>n[o];if(isString(e)){const i=t[e];isFunction(i)&&watch(r,i)}else if(isFunction(e))watch(r,e.bind(n));else if(isObject$1(e))if(isArray(e))e.forEach(i=>createWatcher(i,t,n,o));else{const i=isFunction(e.handler)?e.handler.bind(n):t[e.handler];isFunction(i)&&watch(r,i,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,l=i.get(t);let a;return l?a=l:!r.length&&!n&&!o?a=t:(a={},r.length&&r.forEach(c=>mergeOptions(a,c,s,!0)),mergeOptions(a,t,s)),isObject$1(t)&&i.set(t,a),a}function mergeOptions(e,t,n,o=!1){const{mixins:r,extends:i}=t;i&&mergeOptions(e,i,n,!0),r&&r.forEach(s=>mergeOptions(e,s,n,!0));for(const s in t)if(!(o&&s==="expose")){const l=internalOptionMergeStrats[s]||n&&n[s];e[s]=l?l(e[s],t[s]):t[s]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray(e)&&isArray(t)?[...new Set([...e,...t])]:extend(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const n=extend(Object.create(null),e);for(const o in t)n[o]=mergeAsArray(e[o],t[o]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(o,r=null){isFunction(o)||(o=extend({},o)),r!=null&&!isObject$1(r)&&(r=null);const i=createAppContext(),s=new WeakSet;let l=!1;const a=i.app={_uid:uid$1++,_component:o,_props:r,_container:null,_context:i,_instance:null,version,get config(){return i.config},set config(c){},use(c,...u){return s.has(c)||(c&&isFunction(c.install)?(s.add(c),c.install(a,...u)):isFunction(c)&&(s.add(c),c(a,...u))),a},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),a},component(c,u){return u?(i.components[c]=u,a):i.components[c]},directive(c,u){return u?(i.directives[c]=u,a):i.directives[c]},mount(c,u,d){if(!l){const g=createVNode(o,r);return g.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),u&&t?t(g,c):e(g,c,d),l=!0,a._container=c,c.__vue_app__=a,getExposeProxy(g.component)||g.component.proxy}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(c,u){return i.provides[c]=u,a},runWithContext(c){const u=currentApp;currentApp=a;try{return c()}finally{currentApp=u}}};return a}}let currentApp=null;function provide(e,t){if(currentInstance){let n=currentInstance.provides;const o=currentInstance.parent&&currentInstance.parent.provides;o===n&&(n=currentInstance.provides=Object.create(o)),n[e]=t}}function inject(e,t,n=!1){const o=currentInstance||currentRenderingInstance;if(o||currentApp){const r=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:currentApp._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&isFunction(t)?t.call(o&&o.proxy):t}}const internalObjectProto=Object.create(null),createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=e=>Object.getPrototypeOf(e)===internalObjectProto;function initProps(e,t,n,o=!1){const r={},i=createInternalObject();e.propsDefaults=Object.create(null),setFullProps(e,t,r,i);for(const s in e.propsOptions[0])s in r||(r[s]=void 0);n?e.props=o?r:shallowReactive(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function updateProps(e,t,n,o){const{props:r,attrs:i,vnode:{patchFlag:s}}=e,l=toRaw(r),[a]=e.propsOptions;let c=!1;if((o||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let g=u[d];if(isEmitListener(e.emitsOptions,g))continue;const v=t[g];if(a)if(hasOwn(i,g))v!==i[g]&&(i[g]=v,c=!0);else{const b=camelize(g);r[b]=resolvePropValue(a,l,b,v,e,!1)}else v!==i[g]&&(i[g]=v,c=!0)}}}else{setFullProps(e,t,r,i)&&(c=!0);let u;for(const d in l)(!t||!hasOwn(t,d)&&((u=hyphenate(d))===d||!hasOwn(t,u)))&&(a?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=resolvePropValue(a,l,d,void 0,e,!0)):delete r[d]);if(i!==l)for(const d in i)(!t||!hasOwn(t,d))&&(delete i[d],c=!0)}c&&trigger(e.attrs,"set","")}function setFullProps(e,t,n,o){const[r,i]=e.propsOptions;let s=!1,l;if(t)for(let a in t){if(isReservedProp(a))continue;const c=t[a];let u;r&&hasOwn(r,u=camelize(a))?!i||!i.includes(u)?n[u]=c:(l||(l={}))[u]=c:isEmitListener(e.emitsOptions,a)||(!(a in o)||c!==o[a])&&(o[a]=c,s=!0)}if(i){const a=toRaw(n),c=l||EMPTY_OBJ;for(let u=0;u<i.length;u++){const d=i[u];n[d]=resolvePropValue(r,a,d,c[d],e,!hasOwn(c,d))}}return s}function resolvePropValue(e,t,n,o,r,i){const s=e[n];if(s!=null){const l=hasOwn(s,"default");if(l&&o===void 0){const a=s.default;if(s.type!==Function&&!s.skipFactory&&isFunction(a)){const{propsDefaults:c}=r;if(n in c)o=c[n];else{const u=setCurrentInstance(r);o=c[n]=a.call(null,t),u()}}else o=a}s[0]&&(i&&!l?o=!1:s[1]&&(o===""||o===hyphenate(n))&&(o=!0))}return o}function normalizePropsOptions(e,t,n=!1){const o=t.propsCache,r=o.get(e);if(r)return r;const i=e.props,s={},l=[];let a=!1;if(!isFunction(e)){const u=d=>{a=!0;const[g,v]=normalizePropsOptions(d,t,!0);extend(s,g),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!a)return isObject$1(e)&&o.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray(i))for(let u=0;u<i.length;u++){const d=camelize(i[u]);validatePropName(d)&&(s[d]=EMPTY_OBJ)}else if(i)for(const u in i){const d=camelize(u);if(validatePropName(d)){const g=i[u],v=s[d]=isArray(g)||isFunction(g)?{type:g}:extend({},g);if(v){const b=getTypeIndex(Boolean,v.type),m=getTypeIndex(String,v.type);v[0]=b>-1,v[1]=m<0||b<m,(b>-1||hasOwn(v,"default"))&&l.push(d)}}}const c=[s,l];return isObject$1(e)&&o.set(e,c),c}function validatePropName(e){return e[0]!=="$"&&!isReservedProp(e)}function getType(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray(t)?t.findIndex(n=>isSameType(n,e)):isFunction(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,n)=>{if(t._n)return t;const o=withCtx((...r)=>normalizeSlotValue(t(...r)),n);return o._c=!1,o},normalizeObjectSlots=(e,t,n)=>{const o=e._ctx;for(const r in e){if(isInternalKey(r))continue;const i=e[r];if(isFunction(i))t[r]=normalizeSlot(r,i,o);else if(i!=null){const s=normalizeSlotValue(i);t[r]=()=>s}}},normalizeVNodeSlots=(e,t)=>{const n=normalizeSlotValue(t);e.slots.default=()=>n},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=toRaw(t),def(e.slots,"_",n)):normalizeObjectSlots(t,e.slots=createInternalObject())}else e.slots=createInternalObject(),t&&normalizeVNodeSlots(e,t)},updateSlots=(e,t,n)=>{const{vnode:o,slots:r}=e;let i=!0,s=EMPTY_OBJ;if(o.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:(extend(r,t),!n&&l===1&&delete r._):(i=!t.$stable,normalizeObjectSlots(t,r)),s=t}else t&&(normalizeVNodeSlots(e,t),s={default:1});if(i)for(const l in r)!isInternalKey(l)&&s[l]==null&&delete r[l]};function setRef(e,t,n,o,r=!1){if(isArray(e)){e.forEach((g,v)=>setRef(g,t&&(isArray(t)?t[v]:t),n,o,r));return}if(isAsyncWrapper(o)&&!r)return;const i=o.shapeFlag&4?getExposeProxy(o.component)||o.component.proxy:o.el,s=r?null:i,{i:l,r:a}=e,c=t&&t.r,u=l.refs===EMPTY_OBJ?l.refs={}:l.refs,d=l.setupState;if(c!=null&&c!==a&&(isString(c)?(u[c]=null,hasOwn(d,c)&&(d[c]=null)):isRef(c)&&(c.value=null)),isFunction(a))callWithErrorHandling(a,l,12,[s,u]);else{const g=isString(a),v=isRef(a);if(g||v){const b=()=>{if(e.f){const m=g?hasOwn(d,a)?d[a]:u[a]:a.value;r?isArray(m)&&remove(m,i):isArray(m)?m.includes(i)||m.push(i):g?(u[a]=[i],hasOwn(d,a)&&(d[a]=u[a])):(a.value=[i],e.k&&(u[e.k]=a.value))}else g?(u[a]=s,hasOwn(d,a)&&(d[a]=s)):v&&(a.value=s,e.k&&(u[e.k]=s))};s?(b.id=-1,queuePostRenderEffect(b,n)):b()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const n=getGlobalThis();n.__VUE__=!0;const{insert:o,remove:r,patchProp:i,createElement:s,createText:l,createComment:a,setText:c,setElementText:u,parentNode:d,nextSibling:g,setScopeId:v=NOOP,insertStaticContent:b}=e,m=(f,h,_,y=null,w=null,E=null,A=void 0,S=null,x=!!h.dynamicChildren)=>{if(f===h)return;f&&!isSameVNodeType(f,h)&&(y=ue(f),te(f,w,E,!0),f=null),h.patchFlag===-2&&(x=!1,h.dynamicChildren=null);const{type:k,ref:I,shapeFlag:N}=h;switch(k){case Text:P(f,h,_,y);break;case Comment:T(f,h,_,y);break;case Static:f==null&&R(h,_,y,A);break;case Fragment:j(f,h,_,y,w,E,A,S,x);break;default:N&1?V(f,h,_,y,w,E,A,S,x):N&6?Z(f,h,_,y,w,E,A,S,x):(N&64||N&128)&&k.process(f,h,_,y,w,E,A,S,x,se)}I!=null&&w&&setRef(I,f&&f.ref,E,h||f,!h)},P=(f,h,_,y)=>{if(f==null)o(h.el=l(h.children),_,y);else{const w=h.el=f.el;h.children!==f.children&&c(w,h.children)}},T=(f,h,_,y)=>{f==null?o(h.el=a(h.children||""),_,y):h.el=f.el},R=(f,h,_,y)=>{[f.el,f.anchor]=b(f.children,h,_,y,f.el,f.anchor)},C=({el:f,anchor:h},_,y)=>{let w;for(;f&&f!==h;)w=g(f),o(f,_,y),f=w;o(h,_,y)},F=({el:f,anchor:h})=>{let _;for(;f&&f!==h;)_=g(f),r(f),f=_;r(h)},V=(f,h,_,y,w,E,A,S,x)=>{h.type==="svg"?A="svg":h.type==="math"&&(A="mathml"),f==null?B(h,_,y,w,E,A,S,x):H(f,h,w,E,A,S,x)},B=(f,h,_,y,w,E,A,S)=>{let x,k;const{props:I,shapeFlag:N,transition:M,dirs:$}=f;if(x=f.el=s(f.type,E,I&&I.is,I),N&8?u(x,f.children):N&16&&D(f.children,x,null,y,w,resolveChildrenNamespace(f,E),A,S),$&&invokeDirectiveHook(f,null,y,"created"),Y(x,f,f.scopeId,A,y),I){for(const q in I)q!=="value"&&!isReservedProp(q)&&i(x,q,null,I[q],E,f.children,y,w,oe);"value"in I&&i(x,"value",null,I.value,E),(k=I.onVnodeBeforeMount)&&invokeVNodeHook(k,y,f)}$&&invokeDirectiveHook(f,null,y,"beforeMount");const K=needTransition(w,M);K&&M.beforeEnter(x),o(x,h,_),((k=I&&I.onVnodeMounted)||K||$)&&queuePostRenderEffect(()=>{k&&invokeVNodeHook(k,y,f),K&&M.enter(x),$&&invokeDirectiveHook(f,null,y,"mounted")},w)},Y=(f,h,_,y,w)=>{if(_&&v(f,_),y)for(let E=0;E<y.length;E++)v(f,y[E]);if(w){let E=w.subTree;if(h===E){const A=w.vnode;Y(f,A,A.scopeId,A.slotScopeIds,w.parent)}}},D=(f,h,_,y,w,E,A,S,x=0)=>{for(let k=x;k<f.length;k++){const I=f[k]=S?cloneIfMounted(f[k]):normalizeVNode(f[k]);m(null,I,h,_,y,w,E,A,S)}},H=(f,h,_,y,w,E,A)=>{const S=h.el=f.el;let{patchFlag:x,dynamicChildren:k,dirs:I}=h;x|=f.patchFlag&16;const N=f.props||EMPTY_OBJ,M=h.props||EMPTY_OBJ;let $;if(_&&toggleRecurse(_,!1),($=M.onVnodeBeforeUpdate)&&invokeVNodeHook($,_,h,f),I&&invokeDirectiveHook(h,f,_,"beforeUpdate"),_&&toggleRecurse(_,!0),k?O(f.dynamicChildren,k,S,_,y,resolveChildrenNamespace(h,w),E):A||W(f,h,S,null,_,y,resolveChildrenNamespace(h,w),E,!1),x>0){if(x&16)L(S,h,N,M,_,y,w);else if(x&2&&N.class!==M.class&&i(S,"class",null,M.class,w),x&4&&i(S,"style",N.style,M.style,w),x&8){const K=h.dynamicProps;for(let q=0;q<K.length;q++){const z=K[q],Q=N[z],ee=M[z];(ee!==Q||z==="value")&&i(S,z,Q,ee,w,f.children,_,y,oe)}}x&1&&f.children!==h.children&&u(S,h.children)}else!A&&k==null&&L(S,h,N,M,_,y,w);(($=M.onVnodeUpdated)||I)&&queuePostRenderEffect(()=>{$&&invokeVNodeHook($,_,h,f),I&&invokeDirectiveHook(h,f,_,"updated")},y)},O=(f,h,_,y,w,E,A)=>{for(let S=0;S<h.length;S++){const x=f[S],k=h[S],I=x.el&&(x.type===Fragment||!isSameVNodeType(x,k)||x.shapeFlag&70)?d(x.el):_;m(x,k,I,null,y,w,E,A,!0)}},L=(f,h,_,y,w,E,A)=>{if(_!==y){if(_!==EMPTY_OBJ)for(const S in _)!isReservedProp(S)&&!(S in y)&&i(f,S,_[S],null,A,h.children,w,E,oe);for(const S in y){if(isReservedProp(S))continue;const x=y[S],k=_[S];x!==k&&S!=="value"&&i(f,S,k,x,A,h.children,w,E,oe)}"value"in y&&i(f,"value",_.value,y.value,A)}},j=(f,h,_,y,w,E,A,S,x)=>{const k=h.el=f?f.el:l(""),I=h.anchor=f?f.anchor:l("");let{patchFlag:N,dynamicChildren:M,slotScopeIds:$}=h;$&&(S=S?S.concat($):$),f==null?(o(k,_,y),o(I,_,y),D(h.children||[],_,I,w,E,A,S,x)):N>0&&N&64&&M&&f.dynamicChildren?(O(f.dynamicChildren,M,_,w,E,A,S),(h.key!=null||w&&h===w.subTree)&&traverseStaticChildren(f,h,!0)):W(f,h,_,I,w,E,A,S,x)},Z=(f,h,_,y,w,E,A,S,x)=>{h.slotScopeIds=S,f==null?h.shapeFlag&512?w.ctx.activate(h,_,y,A,x):fe(h,_,y,w,E,A,x):ge(f,h,x)},fe=(f,h,_,y,w,E,A)=>{const S=f.component=createComponentInstance(f,y,w);if(isKeepAlive(f)&&(S.ctx.renderer=se),setupComponent(S),S.asyncDep){if(w&&w.registerDep(S,J),!f.el){const x=S.subTree=createVNode(Comment);T(null,x,h,_)}}else J(S,f,h,_,w,E,A)},ge=(f,h,_)=>{const y=h.component=f.component;if(shouldUpdateComponent(f,h,_))if(y.asyncDep&&!y.asyncResolved){G(y,h,_);return}else y.next=h,invalidateJob(y.update),y.effect.dirty=!0,y.update();else h.el=f.el,y.vnode=h},J=(f,h,_,y,w,E,A)=>{const S=()=>{if(f.isMounted){let{next:I,bu:N,u:M,parent:$,vnode:K}=f;{const le=locateNonHydratedAsyncRoot(f);if(le){I&&(I.el=K.el,G(f,I,A)),le.asyncDep.then(()=>{f.isUnmounted||S()});return}}let q=I,z;toggleRecurse(f,!1),I?(I.el=K.el,G(f,I,A)):I=K,N&&invokeArrayFns(N),(z=I.props&&I.props.onVnodeBeforeUpdate)&&invokeVNodeHook(z,$,I,K),toggleRecurse(f,!0);const Q=renderComponentRoot(f),ee=f.subTree;f.subTree=Q,m(ee,Q,d(ee.el),ue(ee),f,w,E),I.el=Q.el,q===null&&updateHOCHostEl(f,Q.el),M&&queuePostRenderEffect(M,w),(z=I.props&&I.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(z,$,I,K),w)}else{let I;const{el:N,props:M}=h,{bm:$,m:K,parent:q}=f,z=isAsyncWrapper(h);if(toggleRecurse(f,!1),$&&invokeArrayFns($),!z&&(I=M&&M.onVnodeBeforeMount)&&invokeVNodeHook(I,q,h),toggleRecurse(f,!0),N&&pe){const Q=()=>{f.subTree=renderComponentRoot(f),pe(N,f.subTree,f,w,null)};z?h.type.__asyncLoader().then(()=>!f.isUnmounted&&Q()):Q()}else{const Q=f.subTree=renderComponentRoot(f);m(null,Q,_,y,f,w,E),h.el=Q.el}if(K&&queuePostRenderEffect(K,w),!z&&(I=M&&M.onVnodeMounted)){const Q=h;queuePostRenderEffect(()=>invokeVNodeHook(I,q,Q),w)}(h.shapeFlag&256||q&&isAsyncWrapper(q.vnode)&&q.vnode.shapeFlag&256)&&f.a&&queuePostRenderEffect(f.a,w),f.isMounted=!0,h=_=y=null}},x=f.effect=new ReactiveEffect(S,NOOP,()=>queueJob(k),f.scope),k=f.update=()=>{x.dirty&&x.run()};k.id=f.uid,toggleRecurse(f,!0),k()},G=(f,h,_)=>{h.component=f;const y=f.vnode.props;f.vnode=h,f.next=null,updateProps(f,h.props,y,_),updateSlots(f,h.children,_),pauseTracking(),flushPreFlushCbs(f),resetTracking()},W=(f,h,_,y,w,E,A,S,x=!1)=>{const k=f&&f.children,I=f?f.shapeFlag:0,N=h.children,{patchFlag:M,shapeFlag:$}=h;if(M>0){if(M&128){ce(k,N,_,y,w,E,A,S,x);return}else if(M&256){re(k,N,_,y,w,E,A,S,x);return}}$&8?(I&16&&oe(k,w,E),N!==k&&u(_,N)):I&16?$&16?ce(k,N,_,y,w,E,A,S,x):oe(k,w,E,!0):(I&8&&u(_,""),$&16&&D(N,_,y,w,E,A,S,x))},re=(f,h,_,y,w,E,A,S,x)=>{f=f||EMPTY_ARR,h=h||EMPTY_ARR;const k=f.length,I=h.length,N=Math.min(k,I);let M;for(M=0;M<N;M++){const $=h[M]=x?cloneIfMounted(h[M]):normalizeVNode(h[M]);m(f[M],$,_,null,w,E,A,S,x)}k>I?oe(f,w,E,!0,!1,N):D(h,_,y,w,E,A,S,x,N)},ce=(f,h,_,y,w,E,A,S,x)=>{let k=0;const I=h.length;let N=f.length-1,M=I-1;for(;k<=N&&k<=M;){const $=f[k],K=h[k]=x?cloneIfMounted(h[k]):normalizeVNode(h[k]);if(isSameVNodeType($,K))m($,K,_,null,w,E,A,S,x);else break;k++}for(;k<=N&&k<=M;){const $=f[N],K=h[M]=x?cloneIfMounted(h[M]):normalizeVNode(h[M]);if(isSameVNodeType($,K))m($,K,_,null,w,E,A,S,x);else break;N--,M--}if(k>N){if(k<=M){const $=M+1,K=$<I?h[$].el:y;for(;k<=M;)m(null,h[k]=x?cloneIfMounted(h[k]):normalizeVNode(h[k]),_,K,w,E,A,S,x),k++}}else if(k>M)for(;k<=N;)te(f[k],w,E,!0),k++;else{const $=k,K=k,q=new Map;for(k=K;k<=M;k++){const X=h[k]=x?cloneIfMounted(h[k]):normalizeVNode(h[k]);X.key!=null&&q.set(X.key,k)}let z,Q=0;const ee=M-K+1;let le=!1,ve=0;const ae=new Array(ee);for(k=0;k<ee;k++)ae[k]=0;for(k=$;k<=N;k++){const X=f[k];if(Q>=ee){te(X,w,E,!0);continue}let ne;if(X.key!=null)ne=q.get(X.key);else for(z=K;z<=M;z++)if(ae[z-K]===0&&isSameVNodeType(X,h[z])){ne=z;break}ne===void 0?te(X,w,E,!0):(ae[ne-K]=k+1,ne>=ve?ve=ne:le=!0,m(X,h[ne],_,null,w,E,A,S,x),Q++)}const be=le?getSequence(ae):EMPTY_ARR;for(z=be.length-1,k=ee-1;k>=0;k--){const X=K+k,ne=h[X],ye=X+1<I?h[X+1].el:y;ae[k]===0?m(null,ne,_,ye,w,E,A,S,x):le&&(z<0||k!==be[z]?ie(ne,_,ye,2):z--)}}},ie=(f,h,_,y,w=null)=>{const{el:E,type:A,transition:S,children:x,shapeFlag:k}=f;if(k&6){ie(f.component.subTree,h,_,y);return}if(k&128){f.suspense.move(h,_,y);return}if(k&64){A.move(f,h,_,se);return}if(A===Fragment){o(E,h,_);for(let N=0;N<x.length;N++)ie(x[N],h,_,y);o(f.anchor,h,_);return}if(A===Static){C(f,h,_);return}if(y!==2&&k&1&&S)if(y===0)S.beforeEnter(E),o(E,h,_),queuePostRenderEffect(()=>S.enter(E),w);else{const{leave:N,delayLeave:M,afterLeave:$}=S,K=()=>o(E,h,_),q=()=>{N(E,()=>{K(),$&&$()})};M?M(E,K,q):q()}else o(E,h,_)},te=(f,h,_,y=!1,w=!1)=>{const{type:E,props:A,ref:S,children:x,dynamicChildren:k,shapeFlag:I,patchFlag:N,dirs:M}=f;if(S!=null&&setRef(S,null,_,f,!0),I&256){h.ctx.deactivate(f);return}const $=I&1&&M,K=!isAsyncWrapper(f);let q;if(K&&(q=A&&A.onVnodeBeforeUnmount)&&invokeVNodeHook(q,h,f),I&6)ke(f.component,_,y);else{if(I&128){f.suspense.unmount(_,y);return}$&&invokeDirectiveHook(f,null,h,"beforeUnmount"),I&64?f.type.remove(f,h,_,w,se,y):k&&(E!==Fragment||N>0&&N&64)?oe(k,h,_,!1,!0):(E===Fragment&&N&384||!w&&I&16)&&oe(x,h,_),y&&me(f)}(K&&(q=A&&A.onVnodeUnmounted)||$)&&queuePostRenderEffect(()=>{q&&invokeVNodeHook(q,h,f),$&&invokeDirectiveHook(f,null,h,"unmounted")},_)},me=f=>{const{type:h,el:_,anchor:y,transition:w}=f;if(h===Fragment){we(_,y);return}if(h===Static){F(f);return}const E=()=>{r(_),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(f.shapeFlag&1&&w&&!w.persisted){const{leave:A,delayLeave:S}=w,x=()=>A(_,E);S?S(f.el,E,x):x()}else E()},we=(f,h)=>{let _;for(;f!==h;)_=g(f),r(f),f=_;r(h)},ke=(f,h,_)=>{const{bum:y,scope:w,update:E,subTree:A,um:S}=f;y&&invokeArrayFns(y),w.stop(),E&&(E.active=!1,te(A,f,h,_)),S&&queuePostRenderEffect(S,h),queuePostRenderEffect(()=>{f.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},oe=(f,h,_,y=!1,w=!1,E=0)=>{for(let A=E;A<f.length;A++)te(f[A],h,_,y,w)},ue=f=>f.shapeFlag&6?ue(f.component.subTree):f.shapeFlag&128?f.suspense.next():g(f.anchor||f.el);let de=!1;const _e=(f,h,_)=>{f==null?h._vnode&&te(h._vnode,null,null,!0):m(h._vnode||null,f,h,null,null,null,_),de||(de=!0,flushPreFlushCbs(),flushPostFlushCbs(),de=!1),h._vnode=f},se={p:m,um:te,m:ie,r:me,mt:fe,mc:D,pc:W,pbc:O,n:ue,o:e};let he,pe;return t&&([he,pe]=t(se)),{render:_e,hydrate:he,createApp:createAppAPI(_e,he)}}function resolveChildrenNamespace({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function toggleRecurse({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function needTransition(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(e,t,n=!1){const o=e.children,r=t.children;if(isArray(o)&&isArray(r))for(let i=0;i<o.length;i++){const s=o[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=cloneIfMounted(r[i]),l.el=s.el),n||traverseStaticChildren(s,l)),l.type===Text&&(l.el=s.el)}}function getSequence(e){const t=e.slice(),n=[0];let o,r,i,s,l;const a=e.length;for(o=0;o<a;o++){const c=e[o];if(c!==0){if(r=n[n.length-1],e[r]<c){t[o]=r,n.push(o);continue}for(i=0,s=n.length-1;i<s;)l=i+s>>1,e[n[l]]<c?i=l+1:s=l;c<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=t[s];return n}function locateNonHydratedAsyncRoot(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}const isTeleport=e=>e.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,n,o,r,i){return setupBlock(createBaseVNode(e,t,n,o,r,i,!0))}function createBlock(e,t,n,o,r){return setupBlock(createVNode(e,t,n,o,r,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?isString(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:t,f:!!n}:e:null);function createBaseVNode(e,t=null,n=null,o=0,r=null,i=e===Fragment?0:1,s=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return l?(normalizeChildren(a,n),i&128&&e.normalize(a)):n&&(a.shapeFlag|=isString(n)?8:16),isBlockTreeEnabled>0&&!s&&currentBlock&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&currentBlock.push(a),a}const createVNode=_createVNode;function _createVNode(e,t=null,n=null,o=0,r=null,i=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const l=cloneVNode(e,t,!0);return n&&normalizeChildren(l,n),isBlockTreeEnabled>0&&!i&&currentBlock&&(l.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=l:currentBlock.push(l)),l.patchFlag|=-2,l}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:l,style:a}=t;l&&!isString(l)&&(t.class=normalizeClass(l)),isObject$1(a)&&(isProxy(a)&&!isArray(a)&&(a=extend({},a)),t.style=normalizeStyle(a))}const s=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$1(e)?4:isFunction(e)?2:0;return createBaseVNode(e,t,n,o,r,s,i,!0)}function guardReactiveProps(e){return e?isProxy(e)||isInternalObject(e)?extend({},e):e:null}function cloneVNode(e,t,n=!1){const{props:o,ref:r,patchFlag:i,children:s}=e,l=t?mergeProps(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&normalizeKey(l),ref:t&&t.ref?n&&r?isArray(r)?r.concat(normalizeRef(t)):[r,normalizeRef(t)]:normalizeRef(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createStaticVNode(e,t){const n=createVNode(Static,null,e);return n.staticCount=t,n}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(isArray(t))n=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),normalizeChildren(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!isInternalObject(t)?t._ctx=currentRenderingInstance:r===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),o&64?(n=16,t=[createTextVNode(t)]):n=8);e.children=t,e.shapeFlag|=n}function mergeProps(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=normalizeClass([t.class,o.class]));else if(r==="style")t.style=normalizeStyle([t.style,o.style]);else if(isOn(r)){const i=t[r],s=o[r];s&&i!==s&&!(isArray(i)&&i.includes(s))&&(t[r]=i?[].concat(i,s):s)}else r!==""&&(t[r]=o[r])}return t}function invokeVNodeHook(e,t,n,o=null){callWithAsyncErrorHandling(e,t,7,[n,o])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,n){const o=e.type,r=(t?t.appContext:e.appContext)||emptyAppContext,i={uid:uid++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(o,r),emitsOptions:normalizeEmitsOptions(o,r),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:o.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=emit.bind(null,i),e.ce&&e.ce(i),i}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis(),t=(n,o)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(o),i=>{r.length>1?r.forEach(s=>s(i)):r[0](i)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",n=>currentInstance=n),setInSSRSetupState=t("__VUE_SSR_SETTERS__",n=>isInSSRComponentSetup=n)}const setCurrentInstance=e=>{const t=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(t)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){t&&setInSSRSetupState(t);const{props:n,children:o}=e.vnode,r=isStatefulComponent(e);initProps(e,n,r,t),initSlots(e,o);const i=r?setupStatefulComponent(e,t):void 0;return t&&setInSSRSetupState(!1),i}function setupStatefulComponent(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);const{setup:o}=n;if(o){const r=e.setupContext=o.length>1?createSetupContext(e):null,i=setCurrentInstance(e);pauseTracking();const s=callWithErrorHandling(o,e,0,[e.props,r]);if(resetTracking(),i(),isPromise(s)){if(s.then(unsetCurrentInstance,unsetCurrentInstance),t)return s.then(l=>{handleSetupResult(e,l,t)}).catch(l=>{handleError$1(l,e,0)});e.asyncDep=s}else handleSetupResult(e,s,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,n){isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$1(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,n)}let compile;function finishComponentSetup(e,t,n){const o=e.type;if(!e.render){if(!t&&compile&&!o.render){const r=o.template||resolveMergedOptions(e).template;if(r){const{isCustomElement:i,compilerOptions:s}=e.appContext.config,{delimiters:l,compilerOptions:a}=o,c=extend(extend({isCustomElement:i,delimiters:l},s),a);o.render=compile(r,c)}}e.render=o.render||NOOP}{const r=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),r()}}}const attrsProxyHandlers={get(e,t){return track(e,"get",""),e[t]}};function createSetupContext(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,attrsProxyHandlers),slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](e)},has(t,n){return n in t||n in publicPropertiesMap}}))}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName(e,t,n=!1){let o=getComponentName(t);if(!o&&t.__file){const r=t.__file.match(/([^/\\]+)\.\w+$/);r&&(o=r[1])}if(!o&&e&&e.parent){const r=i=>{for(const s in i)if(i[s]===t)return s};o=r(e.components||e.parent.type.components)||r(e.appContext.components)}return o?classify(o):n?"App":"Anonymous"}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup),version="3.4.23";/**
* @vue/runtime-dom v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t==="svg"?doc.createElementNS(svgNS,e):t==="mathml"?doc.createElementNS(mathmlNS,e):doc.createElement(e,n?{is:n}:void 0);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,i){const s=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{templateContainer.innerHTML=o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e;const l=templateContainer.content;if(o==="svg"||o==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(e,t,n){const o=e[vtcKey];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(e,{value:t},{transition:n}){e[vShowOriginalDisplay]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),setDisplay(e,!0),o.enter(e)):o.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e[vShowOriginalDisplay]:"none",e[vShowHidden]=!t}const CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(e,t,n){const o=e.style,r=isString(n);let i=!1;if(n&&!r){if(t)if(isString(t))for(const s of t.split(";")){const l=s.slice(0,s.indexOf(":")).trim();n[l]==null&&setStyle(o,l,"")}else for(const s in t)n[s]==null&&setStyle(o,s,"");for(const s in n)s==="display"&&(i=!0),setStyle(o,s,n[s])}else if(r){if(t!==n){const s=o[CSS_VAR_TEXT];s&&(n+=";"+s),o.cssText=n,i=displayRE.test(n)}}else t&&e.removeAttribute("style");vShowOriginalDisplay in e&&(e[vShowOriginalDisplay]=i?o.display:"",e[vShowHidden]&&(o.display="none"))}const importantRE=/\s*!important$/;function setStyle(e,t,n){if(isArray(n))n.forEach(o=>setStyle(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=autoPrefix(e,t);importantRE.test(n)?e.setProperty(hyphenate(o),n.replace(importantRE,""),"important"):e[o]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const n=prefixCache[t];if(n)return n;let o=camelize(t);if(o!=="filter"&&o in e)return prefixCache[t]=o;o=capitalize(o);for(let r=0;r<prefixes.length;r++){const i=prefixes[r]+o;if(i in e)return prefixCache[t]=i}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,n,o,r){if(o&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,n);else{const i=isSpecialBooleanAttr(t);n==null||i&&!includeBooleanAttr(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function patchDOMProp(e,t,n,o,r,i,s){if(t==="innerHTML"||t==="textContent"){o&&s(o,r,i),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const c=l==="OPTION"?e.getAttribute("value")||"":e.value,u=n??"";(c!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=includeBooleanAttr(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function addEventListener(e,t,n,o){e.addEventListener(t,n,o)}function removeEventListener(e,t,n,o){e.removeEventListener(t,n,o)}const veiKey=Symbol("_vei");function patchEvent(e,t,n,o,r=null){const i=e[veiKey]||(e[veiKey]={}),s=i[t];if(o&&s)s.value=o;else{const[l,a]=parseName(t);if(o){const c=i[t]=createInvoker(o,r);addEventListener(e,l,c,a)}else s&&(removeEventListener(e,l,s,a),i[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let o;for(;o=e.match(optionsModifierRE);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(o,n.value),t,5,[o])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,t){if(isArray(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,t,n,o,r,i,s,l,a)=>{const c=r==="svg";t==="class"?patchClass(e,o,c):t==="style"?patchStyle(e,n,o):isOn(t)?isModelListener(t)||patchEvent(e,t,n,o,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,o,c))?patchDOMProp(e,t,o,i,s,l,a):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),patchAttr(e,t,o,c))};function shouldSetAsProp(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&isNativeOn(t)&&isFunction(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return isNativeOn(t)&&isString(n)?!1:t in e}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray(t)?n=>invokeArrayFns(t,n):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(e,{modifiers:{lazy:t,trim:n,number:o}},r){e[assignKey]=getModelAssigner(r);const i=o||r.props&&r.props.type==="number";addEventListener(e,t?"change":"input",s=>{if(s.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=looseToNumber(l)),e[assignKey](l)}),n&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:o,number:r}},i){if(e[assignKey]=getModelAssigner(i),e.composing)return;const s=(r||e.type==="number")&&!/^0\d/.test(e.value)?looseToNumber(e.value):e.value,l=t??"";s!==l&&(document.activeElement===e&&e.type!=="range"&&(n||o&&e.value.trim()===l)||(e.value=l))}},vModelCheckbox={deep:!0,created(e,t,n){e[assignKey]=getModelAssigner(n),addEventListener(e,"change",()=>{const o=e._modelValue,r=getValue(e),i=e.checked,s=e[assignKey];if(isArray(o)){const l=looseIndexOf(o,r),a=l!==-1;if(i&&!a)s(o.concat(r));else if(!i&&a){const c=[...o];c.splice(l,1),s(c)}}else if(isSet(o)){const l=new Set(o);i?l.add(r):l.delete(r),s(l)}else s(getCheckboxValue(e,i))})},mounted:setChecked,beforeUpdate(e,t,n){e[assignKey]=getModelAssigner(n),setChecked(e,t,n)}};function setChecked(e,{value:t,oldValue:n},o){e._modelValue=t,isArray(t)?e.checked=looseIndexOf(t,o.props.value)>-1:isSet(t)?e.checked=t.has(o.props.value):t!==n&&(e.checked=looseEqual(t,getCheckboxValue(e,!0)))}const vModelSelect={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const r=isSet(t);addEventListener(e,"change",()=>{const i=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?looseToNumber(getValue(s)):getValue(s));e[assignKey](e.multiple?r?new Set(i):i:i[0]),e._assigning=!0,nextTick(()=>{e._assigning=!1})}),e[assignKey]=getModelAssigner(o)},mounted(e,{value:t,modifiers:{number:n}}){setSelected$1(e,t)},beforeUpdate(e,t,n){e[assignKey]=getModelAssigner(n)},updated(e,{value:t,modifiers:{number:n}}){e._assigning||setSelected$1(e,t)}};function setSelected$1(e,t,n){const o=e.multiple,r=isArray(t);if(!(o&&!r&&!isSet(t))){for(let i=0,s=e.options.length;i<s;i++){const l=e.options[i],a=getValue(l);if(o)if(r){const c=typeof a;c==="string"||c==="number"?l.selected=t.some(u=>String(u)===String(a)):l.selected=looseIndexOf(t,a)>-1}else l.selected=t.has(a);else if(looseEqual(getValue(l),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!o&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function getValue(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:n}=t;return t.mount=o=>{const r=normalizeContainer(o);if(!r)return;const i=t._component;!isFunction(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,resolveRootNamespace(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t};function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString(e)?document.querySelector(e):e}const colors=["white","black"],files=["a","b","c","d","e","f","g","h"],ranks=["1","2","3","4","5","6","7","8"],invRanks=[...ranks].reverse(),allKeys=Array.prototype.concat(...files.map(e=>ranks.map(t=>e+t))),pos2key=e=>allKeys[8*e[0]+e[1]],key2pos=e=>[e.charCodeAt(0)-97,e.charCodeAt(1)-49],allPos=allKeys.map(key2pos);function memo(e){let t;const n=()=>(t===void 0&&(t=e()),t);return n.clear=()=>{t=void 0},n}const timer=()=>{let e;return{start(){e=performance.now()},cancel(){e=void 0},stop(){if(!e)return 0;const t=performance.now()-e;return e=void 0,t}}},opposite=e=>e==="white"?"black":"white",distanceSq=(e,t)=>{const n=e[0]-t[0],o=e[1]-t[1];return n*n+o*o},samePiece=(e,t)=>e.role===t.role&&e.color===t.color,posToTranslate=e=>(t,n)=>[(n?t[0]:7-t[0])*e.width/8,(n?7-t[1]:t[1])*e.height/8],translate=(e,t)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px)`},translateAndScale=(e,t,n=1)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px) scale(${n})`},setVisible=(e,t)=>{e.style.visibility=t?"visible":"hidden"},eventPosition=e=>{var t;if(e.clientX||e.clientX===0)return[e.clientX,e.clientY];if(!((t=e.targetTouches)===null||t===void 0)&&t[0])return[e.targetTouches[0].clientX,e.targetTouches[0].clientY]},isRightButton=e=>{var t;return(((t=e.buttons)!==null&&t!==void 0?t:0)&2)===2},createEl=(e,t)=>{const n=document.createElement(e);return t&&(n.className=t),n};function computeSquareCenter(e,t,n){const o=key2pos(e);return t||(o[0]=7-o[0],o[1]=7-o[1]),[n.left+n.width*o[0]/8+n.width/16,n.top+n.height*(7-o[1])/8+n.height/16]}const diff=(e,t)=>Math.abs(e-t),pawn=e=>(t,n,o,r)=>diff(t,o)<2&&(e==="white"?r===n+1||n<=1&&r===n+2&&t===o:r===n-1||n>=6&&r===n-2&&t===o),knight=(e,t,n,o)=>{const r=diff(e,n),i=diff(t,o);return r===1&&i===2||r===2&&i===1},bishop=(e,t,n,o)=>diff(e,n)===diff(t,o),rook=(e,t,n,o)=>e===n||t===o,queen=(e,t,n,o)=>bishop(e,t,n,o)||rook(e,t,n,o),king=(e,t,n)=>(o,r,i,s)=>diff(o,i)<2&&diff(r,s)<2||n&&r===s&&r===(e==="white"?0:7)&&(o===4&&(i===2&&t.includes(0)||i===6&&t.includes(7))||t.includes(i));function rookFilesOf(e,t){const n=t==="white"?"1":"8",o=[];for(const[r,i]of e)r[1]===n&&i.color===t&&i.role==="rook"&&o.push(key2pos(r)[0]);return o}function premove(e,t,n){const o=e.get(t);if(!o)return[];const r=key2pos(t),i=o.role,s=i==="pawn"?pawn(o.color):i==="knight"?knight:i==="bishop"?bishop:i==="rook"?rook:i==="queen"?queen:king(o.color,rookFilesOf(e,o.color),n);return allPos.filter(l=>(r[0]!==l[0]||r[1]!==l[1])&&s(r[0],r[1],l[0],l[1])).map(pos2key)}function callUserFunction(e,...t){e&&setTimeout(()=>e(...t),1)}function toggleOrientation(e){e.orientation=opposite(e.orientation),e.animation.current=e.draggable.current=e.selected=void 0}function setPieces(e,t){for(const[n,o]of t)o?e.pieces.set(n,o):e.pieces.delete(n)}function setCheck(e,t){if(e.check=void 0,t===!0&&(t=e.turnColor),t)for(const[n,o]of e.pieces)o.role==="king"&&o.color===t&&(e.check=n)}function setPremove(e,t,n,o){unsetPredrop(e),e.premovable.current=[t,n],callUserFunction(e.premovable.events.set,t,n,o)}function unsetPremove(e){e.premovable.current&&(e.premovable.current=void 0,callUserFunction(e.premovable.events.unset))}function setPredrop(e,t,n){unsetPremove(e),e.predroppable.current={role:t,key:n},callUserFunction(e.predroppable.events.set,t,n)}function unsetPredrop(e){const t=e.predroppable;t.current&&(t.current=void 0,callUserFunction(t.events.unset))}function tryAutoCastle(e,t,n){if(!e.autoCastle)return!1;const o=e.pieces.get(t);if(!o||o.role!=="king")return!1;const r=key2pos(t),i=key2pos(n);if(r[1]!==0&&r[1]!==7||r[1]!==i[1])return!1;r[0]===4&&!e.pieces.has(n)&&(i[0]===6?n=pos2key([7,i[1]]):i[0]===2&&(n=pos2key([0,i[1]])));const s=e.pieces.get(n);return!s||s.color!==o.color||s.role!=="rook"?!1:(e.pieces.delete(t),e.pieces.delete(n),r[0]<i[0]?(e.pieces.set(pos2key([6,i[1]]),o),e.pieces.set(pos2key([5,i[1]]),s)):(e.pieces.set(pos2key([2,i[1]]),o),e.pieces.set(pos2key([3,i[1]]),s)),!0)}function baseMove(e,t,n){const o=e.pieces.get(t),r=e.pieces.get(n);if(t===n||!o)return!1;const i=r&&r.color!==o.color?r:void 0;return n===e.selected&&unselect(e),callUserFunction(e.events.move,t,n,i),tryAutoCastle(e,t,n)||(e.pieces.set(n,o),e.pieces.delete(t)),e.lastMove=[t,n],e.check=void 0,callUserFunction(e.events.change),i||!0}function baseNewPiece(e,t,n,o){if(e.pieces.has(n))if(o)e.pieces.delete(n);else return!1;return callUserFunction(e.events.dropNewPiece,t,n),e.pieces.set(n,t),e.lastMove=[n],e.check=void 0,callUserFunction(e.events.change),e.movable.dests=void 0,e.turnColor=opposite(e.turnColor),!0}function baseUserMove(e,t,n){const o=baseMove(e,t,n);return o&&(e.movable.dests=void 0,e.turnColor=opposite(e.turnColor),e.animation.current=void 0),o}function userMove(e,t,n){if(canMove(e,t,n)){const o=baseUserMove(e,t,n);if(o){const r=e.hold.stop();unselect(e);const i={premove:!1,ctrlKey:e.stats.ctrlKey,holdTime:r};return o!==!0&&(i.captured=o),callUserFunction(e.movable.events.after,t,n,i),!0}}else if(canPremove(e,t,n))return setPremove(e,t,n,{ctrlKey:e.stats.ctrlKey}),unselect(e),!0;return unselect(e),!1}function dropNewPiece(e,t,n,o){const r=e.pieces.get(t);r&&(canDrop(e,t,n)||o)?(e.pieces.delete(t),baseNewPiece(e,r,n,o),callUserFunction(e.movable.events.afterNewPiece,r.role,n,{premove:!1,predrop:!1})):r&&canPredrop(e,t,n)?setPredrop(e,r.role,n):(unsetPremove(e),unsetPredrop(e)),e.pieces.delete(t),unselect(e)}function selectSquare(e,t,n){if(callUserFunction(e.events.select,t),e.selected){if(e.selected===t&&!e.draggable.enabled){unselect(e),e.hold.cancel();return}else if((e.selectable.enabled||n)&&e.selected!==t&&userMove(e,e.selected,t)){e.stats.dragged=!1;return}}(e.selectable.enabled||e.draggable.enabled)&&(isMovable(e,t)||isPremovable(e,t))&&(setSelected(e,t),e.hold.start())}function setSelected(e,t){e.selected=t,isPremovable(e,t)?e.premovable.customDests||(e.premovable.dests=premove(e.pieces,t,e.premovable.castle)):e.premovable.dests=void 0}function unselect(e){e.selected=void 0,e.premovable.dests=void 0,e.hold.cancel()}function isMovable(e,t){const n=e.pieces.get(t);return!!n&&(e.movable.color==="both"||e.movable.color===n.color&&e.turnColor===n.color)}const canMove=(e,t,n)=>{var o,r;return t!==n&&isMovable(e,t)&&(e.movable.free||!!(!((r=(o=e.movable.dests)===null||o===void 0?void 0:o.get(t))===null||r===void 0)&&r.includes(n)))};function canDrop(e,t,n){const o=e.pieces.get(t);return!!o&&(t===n||!e.pieces.has(n))&&(e.movable.color==="both"||e.movable.color===o.color&&e.turnColor===o.color)}function isPremovable(e,t){const n=e.pieces.get(t);return!!n&&e.premovable.enabled&&e.movable.color===n.color&&e.turnColor!==n.color}function canPremove(e,t,n){var o,r;const i=(r=(o=e.premovable.customDests)===null||o===void 0?void 0:o.get(t))!==null&&r!==void 0?r:premove(e.pieces,t,e.premovable.castle);return t!==n&&isPremovable(e,t)&&i.includes(n)}function canPredrop(e,t,n){const o=e.pieces.get(t),r=e.pieces.get(n);return!!o&&(!r||r.color!==e.movable.color)&&e.predroppable.enabled&&(o.role!=="pawn"||n[1]!=="1"&&n[1]!=="8")&&e.movable.color===o.color&&e.turnColor!==o.color}function isDraggable(e,t){const n=e.pieces.get(t);return!!n&&e.draggable.enabled&&(e.movable.color==="both"||e.movable.color===n.color&&(e.turnColor===n.color||e.premovable.enabled))}function playPremove(e){const t=e.premovable.current;if(!t)return!1;const n=t[0],o=t[1];let r=!1;if(canMove(e,n,o)){const i=baseUserMove(e,n,o);if(i){const s={premove:!0};i!==!0&&(s.captured=i),callUserFunction(e.movable.events.after,n,o,s),r=!0}}return unsetPremove(e),r}function playPredrop(e,t){const n=e.predroppable.current;let o=!1;if(!n)return!1;if(t(n)){const r={role:n.role,color:e.movable.color};baseNewPiece(e,r,n.key)&&(callUserFunction(e.movable.events.afterNewPiece,n.role,n.key,{premove:!1,predrop:!0}),o=!0)}return unsetPredrop(e),o}function cancelMove(e){unsetPremove(e),unsetPredrop(e),unselect(e)}function stop(e){e.movable.color=e.movable.dests=e.animation.current=void 0,cancelMove(e)}function getKeyAtDomPos(e,t,n){let o=Math.floor(8*(e[0]-n.left)/n.width);t||(o=7-o);let r=7-Math.floor(8*(e[1]-n.top)/n.height);return t||(r=7-r),o>=0&&o<8&&r>=0&&r<8?pos2key([o,r]):void 0}function getSnappedKeyAtDomPos(e,t,n,o){const r=key2pos(e),i=allPos.filter(c=>queen(r[0],r[1],c[0],c[1])||knight(r[0],r[1],c[0],c[1])),l=i.map(c=>computeSquareCenter(pos2key(c),n,o)).map(c=>distanceSq(t,c)),[,a]=l.reduce((c,u,d)=>c[0]<u?c:[u,d],[l[0],0]);return pos2key(i[a])}const whitePov=e=>e.orientation==="white",initial="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",roles={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},letters={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};function read(e){e==="start"&&(e=initial);const t=new Map;let n=7,o=0;for(const r of e)switch(r){case" ":case"[":return t;case"/":if(--n,n<0)return t;o=0;break;case"~":{const i=t.get(pos2key([o-1,n]));i&&(i.promoted=!0);break}default:{const i=r.charCodeAt(0);if(i<57)o+=i-48;else{const s=r.toLowerCase();t.set(pos2key([o,n]),{role:roles[s],color:r===s?"black":"white"}),++o}}}return t}function write(e){return invRanks.map(t=>files.map(n=>{const o=e.get(n+t);if(o){let r=letters[o.role];return o.color==="white"&&(r=r.toUpperCase()),o.promoted&&(r+="~"),r}else return"1"}).join("")).join("/").replace(/1{2,}/g,t=>t.length.toString())}function applyAnimation(e,t){t.animation&&(deepMerge(e.animation,t.animation),(e.animation.duration||0)<70&&(e.animation.enabled=!1))}function configure(e,t){var n,o,r;if(!((n=t.movable)===null||n===void 0)&&n.dests&&(e.movable.dests=void 0),!((o=t.drawable)===null||o===void 0)&&o.autoShapes&&(e.drawable.autoShapes=[]),deepMerge(e,t),t.fen&&(e.pieces=read(t.fen),e.drawable.shapes=((r=t.drawable)===null||r===void 0?void 0:r.shapes)||[]),"check"in t&&setCheck(e,t.check||!1),"lastMove"in t&&!t.lastMove?e.lastMove=void 0:t.lastMove&&(e.lastMove=t.lastMove),e.selected&&setSelected(e,e.selected),applyAnimation(e,t),!e.movable.rookCastle&&e.movable.dests){const i=e.movable.color==="white"?"1":"8",s="e"+i,l=e.movable.dests.get(s),a=e.pieces.get(s);if(!l||!a||a.role!=="king")return;e.movable.dests.set(s,l.filter(c=>!(c==="a"+i&&l.includes("c"+i))&&!(c==="h"+i&&l.includes("g"+i))))}}function deepMerge(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Object.prototype.hasOwnProperty.call(e,n)&&isPlainObject(e[n])&&isPlainObject(t[n])?deepMerge(e[n],t[n]):e[n]=t[n])}function isPlainObject(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}const anim=(e,t)=>t.animation.enabled?animate(e,t):render$c(e,t);function render$c(e,t){const n=e(t);return t.dom.redraw(),n}const makePiece=(e,t)=>({key:e,pos:key2pos(e),piece:t}),closer=(e,t)=>t.sort((n,o)=>distanceSq(e.pos,n.pos)-distanceSq(e.pos,o.pos))[0];function computePlan(e,t){const n=new Map,o=[],r=new Map,i=[],s=[],l=new Map;let a,c,u;for(const[d,g]of e)l.set(d,makePiece(d,g));for(const d of allKeys)a=t.pieces.get(d),c=l.get(d),a?c?samePiece(a,c.piece)||(i.push(c),s.push(makePiece(d,a))):s.push(makePiece(d,a)):c&&i.push(c);for(const d of s)c=closer(d,i.filter(g=>samePiece(d.piece,g.piece))),c&&(u=[c.pos[0]-d.pos[0],c.pos[1]-d.pos[1]],n.set(d.key,u.concat(u)),o.push(c.key));for(const d of i)o.includes(d.key)||r.set(d.key,d.piece);return{anims:n,fadings:r}}function step(e,t){const n=e.animation.current;if(n===void 0){e.dom.destroyed||e.dom.redrawNow();return}const o=1-(t-n.start)*n.frequency;if(o<=0)e.animation.current=void 0,e.dom.redrawNow();else{const r=easing(o);for(const i of n.plan.anims.values())i[2]=i[0]*r,i[3]=i[1]*r;e.dom.redrawNow(!0),requestAnimationFrame((i=performance.now())=>step(e,i))}}function animate(e,t){const n=new Map(t.pieces),o=e(t),r=computePlan(n,t);if(r.anims.size||r.fadings.size){const i=t.animation.current&&t.animation.current.start;t.animation.current={start:performance.now(),frequency:1/t.animation.duration,plan:r},i||step(t,performance.now())}else t.dom.redraw();return o}const easing=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,brushes=["green","red","blue","yellow"];function start$2(e,t){if(t.touches&&t.touches.length>1)return;t.stopPropagation(),t.preventDefault(),t.ctrlKey?unselect(e):cancelMove(e);const n=eventPosition(t),o=getKeyAtDomPos(n,whitePov(e),e.dom.bounds());o&&(e.drawable.current={orig:o,pos:n,brush:eventBrush(t),snapToValidMove:e.drawable.defaultSnapToValidMove},processDraw(e))}function processDraw(e){requestAnimationFrame(()=>{const t=e.drawable.current;if(t){const n=getKeyAtDomPos(t.pos,whitePov(e),e.dom.bounds());n||(t.snapToValidMove=!1);const o=t.snapToValidMove?getSnappedKeyAtDomPos(t.orig,t.pos,whitePov(e),e.dom.bounds()):n;o!==t.mouseSq&&(t.mouseSq=o,t.dest=o!==t.orig?o:void 0,e.dom.redrawNow()),processDraw(e)}})}function move$1(e,t){e.drawable.current&&(e.drawable.current.pos=eventPosition(t))}function end$1(e){const t=e.drawable.current;t&&(t.mouseSq&&addShape(e.drawable,t),cancel$1(e))}function cancel$1(e){e.drawable.current&&(e.drawable.current=void 0,e.dom.redraw())}function clear(e){e.drawable.shapes.length&&(e.drawable.shapes=[],e.dom.redraw(),onChange(e.drawable))}function eventBrush(e){var t;const n=(e.shiftKey||e.ctrlKey)&&isRightButton(e),o=e.altKey||e.metaKey||((t=e.getModifierState)===null||t===void 0?void 0:t.call(e,"AltGraph"));return brushes[(n?1:0)+(o?2:0)]}function addShape(e,t){const n=r=>r.orig===t.orig&&r.dest===t.dest,o=e.shapes.find(n);o&&(e.shapes=e.shapes.filter(r=>!n(r))),(!o||o.brush!==t.brush)&&e.shapes.push({orig:t.orig,dest:t.dest,brush:t.brush}),onChange(e)}function onChange(e){e.onChange&&e.onChange(e.shapes)}function start$1(e,t){if(!(e.trustAllEvents||t.isTrusted)||t.buttons!==void 0&&t.buttons>1||t.touches&&t.touches.length>1)return;const n=e.dom.bounds(),o=eventPosition(t),r=getKeyAtDomPos(o,whitePov(e),n);if(!r)return;const i=e.pieces.get(r),s=e.selected;if(!s&&e.drawable.enabled&&(e.drawable.eraseOnClick||!i||i.color!==e.turnColor)&&clear(e),t.cancelable!==!1&&(!t.touches||e.blockTouchScroll||i||s||pieceCloseTo(e,o)))t.preventDefault();else if(t.touches)return;const l=!!e.premovable.current,a=!!e.predroppable.current;e.stats.ctrlKey=t.ctrlKey,e.selected&&canMove(e,e.selected,r)?anim(d=>selectSquare(d,r),e):selectSquare(e,r);const c=e.selected===r,u=pieceElementByKey(e,r);if(i&&u&&c&&isDraggable(e,r)){e.draggable.current={orig:r,piece:i,origPos:o,pos:o,started:e.draggable.autoDistance&&e.stats.dragged,element:u,previouslySelected:s,originTarget:t.target,keyHasChanged:!1},u.cgDragging=!0,u.classList.add("dragging");const d=e.dom.elements.ghost;d&&(d.className=`ghost ${i.color} ${i.role}`,translate(d,posToTranslate(n)(key2pos(r),whitePov(e))),setVisible(d,!0)),processDrag(e)}else l&&unsetPremove(e),a&&unsetPredrop(e);e.dom.redraw()}function pieceCloseTo(e,t){const n=whitePov(e),o=e.dom.bounds(),r=Math.pow(o.width/8,2);for(const i of e.pieces.keys()){const s=computeSquareCenter(i,n,o);if(distanceSq(s,t)<=r)return!0}return!1}function dragNewPiece(e,t,n,o){const r="a0";e.pieces.set(r,t),e.dom.redraw();const i=eventPosition(n);e.draggable.current={orig:r,piece:t,origPos:i,pos:i,started:!0,element:()=>pieceElementByKey(e,r),originTarget:n.target,newPiece:!0,force:!!o,keyHasChanged:!1},processDrag(e)}function processDrag(e){requestAnimationFrame(()=>{var t;const n=e.draggable.current;if(!n)return;!((t=e.animation.current)===null||t===void 0)&&t.plan.anims.has(n.orig)&&(e.animation.current=void 0);const o=e.pieces.get(n.orig);if(!o||!samePiece(o,n.piece))cancel(e);else if(!n.started&&distanceSq(n.pos,n.origPos)>=Math.pow(e.draggable.distance,2)&&(n.started=!0),n.started){if(typeof n.element=="function"){const i=n.element();if(!i)return;i.cgDragging=!0,i.classList.add("dragging"),n.element=i}const r=e.dom.bounds();translate(n.element,[n.pos[0]-r.left-r.width/16,n.pos[1]-r.top-r.height/16]),n.keyHasChanged||(n.keyHasChanged=n.orig!==getKeyAtDomPos(n.pos,whitePov(e),r))}processDrag(e)})}function move(e,t){e.draggable.current&&(!t.touches||t.touches.length<2)&&(e.draggable.current.pos=eventPosition(t))}function end(e,t){const n=e.draggable.current;if(!n)return;if(t.type==="touchend"&&t.cancelable!==!1&&t.preventDefault(),t.type==="touchend"&&n.originTarget!==t.target&&!n.newPiece){e.draggable.current=void 0;return}unsetPremove(e),unsetPredrop(e);const o=eventPosition(t)||n.pos,r=getKeyAtDomPos(o,whitePov(e),e.dom.bounds());r&&n.started&&n.orig!==r?n.newPiece?dropNewPiece(e,n.orig,r,n.force):(e.stats.ctrlKey=t.ctrlKey,userMove(e,n.orig,r)&&(e.stats.dragged=!0)):n.newPiece?e.pieces.delete(n.orig):e.draggable.deleteOnDropOff&&!r&&(e.pieces.delete(n.orig),callUserFunction(e.events.change)),(n.orig===n.previouslySelected||n.keyHasChanged)&&(n.orig===r||!r)?unselect(e):e.selectable.enabled||unselect(e),removeDragElements(e),e.draggable.current=void 0,e.dom.redraw()}function cancel(e){const t=e.draggable.current;t&&(t.newPiece&&e.pieces.delete(t.orig),e.draggable.current=void 0,unselect(e),removeDragElements(e),e.dom.redraw())}function removeDragElements(e){const t=e.dom.elements;t.ghost&&setVisible(t.ghost,!1)}function pieceElementByKey(e,t){let n=e.dom.elements.board.firstChild;for(;n;){if(n.cgKey===t&&n.tagName==="PIECE")return n;n=n.nextSibling}}function explosion(e,t){e.exploding={stage:1,keys:t},e.dom.redraw(),setTimeout(()=>{setStage(e,2),setTimeout(()=>setStage(e,void 0),120)},120)}function setStage(e,t){e.exploding&&(t?e.exploding.stage=t:e.exploding=void 0,e.dom.redraw())}function start(e,t){function n(){toggleOrientation(e),t()}return{set(o){o.orientation&&o.orientation!==e.orientation&&n(),applyAnimation(e,o),(o.fen?anim:render$c)(r=>configure(r,o),e)},state:e,getFen:()=>write(e.pieces),toggleOrientation:n,setPieces(o){anim(r=>setPieces(r,o),e)},selectSquare(o,r){o?anim(i=>selectSquare(i,o,r),e):e.selected&&(unselect(e),e.dom.redraw())},move(o,r){anim(i=>baseMove(i,o,r),e)},newPiece(o,r){anim(i=>baseNewPiece(i,o,r),e)},playPremove(){if(e.premovable.current){if(anim(playPremove,e))return!0;e.dom.redraw()}return!1},playPredrop(o){if(e.predroppable.current){const r=playPredrop(e,o);return e.dom.redraw(),r}return!1},cancelPremove(){render$c(unsetPremove,e)},cancelPredrop(){render$c(unsetPredrop,e)},cancelMove(){render$c(o=>{cancelMove(o),cancel(o)},e)},stop(){render$c(o=>{stop(o),cancel(o)},e)},explode(o){explosion(e,o)},setAutoShapes(o){render$c(r=>r.drawable.autoShapes=o,e)},setShapes(o){render$c(r=>r.drawable.shapes=o,e)},getKeyAtDomPos(o){return getKeyAtDomPos(o,whitePov(e),e.dom.bounds())},redrawAll:t,dragNewPiece(o,r,i){dragNewPiece(e,o,r,i)},destroy(){stop(e),e.dom.unbind&&e.dom.unbind(),e.dom.destroyed=!0}}}function defaults(){return{pieces:read(initial),orientation:"white",turnColor:"white",coordinates:!0,ranksPosition:"right",autoCastle:!0,viewOnly:!1,disableContextMenu:!1,addPieceZIndex:!1,blockTouchScroll:!1,pieceKey:!1,trustAllEvents:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15},purple:{key:"purple",color:"#68217a",opacity:.65,lineWidth:10},pink:{key:"pink",color:"#ee2080",opacity:.5,lineWidth:10},white:{key:"white",color:"white",opacity:1,lineWidth:10}},prevSvgHash:""},hold:timer()}}const hilites={hilitePrimary:{key:"hilitePrimary",color:"#3291ff",opacity:1,lineWidth:1},hiliteWhite:{key:"hiliteWhite",color:"#ffffff",opacity:1,lineWidth:1}};function createDefs(){const e=createElement("defs"),t=setAttributes(createElement("filter"),{id:"cg-filter-blur"});return t.appendChild(setAttributes(createElement("feGaussianBlur"),{stdDeviation:"0.019"})),e.appendChild(t),e}function renderSvg(e,t,n){var o;const r=e.drawable,i=r.current,s=i&&i.mouseSq?i:void 0,l=new Map,a=e.dom.bounds(),c=r.autoShapes.filter(v=>!v.piece);for(const v of r.shapes.concat(c).concat(s?[s]:[])){if(!v.dest)continue;const b=(o=l.get(v.dest))!==null&&o!==void 0?o:new Set,m=pos2user(orient(key2pos(v.orig),e.orientation),a),P=pos2user(orient(key2pos(v.dest),e.orientation),a);b.add(moveAngle(m,P)),l.set(v.dest,b)}const u=r.shapes.concat(c).map(v=>({shape:v,current:!1,hash:shapeHash(v,isShort(v.dest,l),!1,a)}));s&&u.push({shape:s,current:!0,hash:shapeHash(s,isShort(s.dest,l),!0,a)});const d=u.map(v=>v.hash).join(";");if(d===e.drawable.prevSvgHash)return;e.drawable.prevSvgHash=d;const g=t.querySelector("defs");syncDefs(r,u,g),syncShapes$1(u,t.querySelector("g"),n.querySelector("g"),v=>renderShape$1(e,v,r.brushes,l,a))}function syncDefs(e,t,n){var o;const r=new Map;let i;for(const a of t.filter(c=>c.shape.dest&&c.shape.brush))i=makeCustomBrush(e.brushes[a.shape.brush],a.shape.modifiers),!((o=a.shape.modifiers)===null||o===void 0)&&o.hilite&&r.set(hilite(i).key,hilite(i)),r.set(i.key,i);const s=new Set;let l=n.firstElementChild;for(;l;)s.add(l.getAttribute("cgKey")),l=l.nextElementSibling;for(const[a,c]of r.entries())s.has(a)||n.appendChild(renderMarker(c))}function syncShapes$1(e,t,n,o){const r=new Map;for(const i of e)r.set(i.hash,!1);for(const i of[t,n]){const s=[];let l=i.firstElementChild,a;for(;l;)a=l.getAttribute("cgHash"),r.has(a)?r.set(a,!0):s.push(l),l=l.nextElementSibling;for(const c of s)i.removeChild(c)}for(const i of e.filter(s=>!r.get(s.hash)))for(const s of o(i))s.isCustom?n.appendChild(s.el):t.appendChild(s.el)}function shapeHash({orig:e,dest:t,brush:n,piece:o,modifiers:r,customSvg:i,label:s},l,a,c){var u,d;return[c.width,c.height,a,e,t,n,l&&"-",o&&pieceHash(o),r&&modifiersHash(r),i&&`custom-${textHash(i.html)},${(d=(u=i.center)===null||u===void 0?void 0:u[0])!==null&&d!==void 0?d:"o"}`,s&&`label-${textHash(s.text)}`].filter(g=>g).join(",")}function pieceHash(e){return[e.color,e.role,e.scale].filter(t=>t).join(",")}function modifiersHash(e){return[e.lineWidth,e.hilite&&"*"].filter(t=>t).join(",")}function textHash(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)>>>0;return t.toString()}function renderShape$1(e,{shape:t,current:n,hash:o},r,i,s){var l,a;const c=pos2user(orient(key2pos(t.orig),e.orientation),s),u=t.dest?pos2user(orient(key2pos(t.dest),e.orientation),s):c,d=t.brush&&makeCustomBrush(r[t.brush],t.modifiers),g=i.get(t.dest),v=[];if(d){const b=setAttributes(createElement("g"),{cgHash:o});v.push({el:b}),c[0]!==u[0]||c[1]!==u[1]?b.appendChild(renderArrow(t,d,c,u,n,isShort(t.dest,i))):b.appendChild(renderCircle(r[t.brush],c,n,s))}if(t.label){const b=t.label;(l=b.fill)!==null&&l!==void 0||(b.fill=t.brush&&r[t.brush].color);const m=t.brush?void 0:"tr";v.push({el:renderLabel(b,o,c,u,g,m),isCustom:!0})}if(t.customSvg){const b=(a=t.customSvg.center)!==null&&a!==void 0?a:"orig",[m,P]=b==="label"?labelCoords(c,u,g).map(R=>R-.5):b==="dest"?u:c,T=setAttributes(createElement("g"),{transform:`translate(${m},${P})`,cgHash:o});T.innerHTML=`<svg width="1" height="1" viewBox="0 0 100 100">${t.customSvg.html}</svg>`,v.push({el:T,isCustom:!0})}return v}function renderCircle(e,t,n,o){const r=circleWidth(),i=(o.width+o.height)/(4*Math.max(o.width,o.height));return setAttributes(createElement("circle"),{stroke:e.color,"stroke-width":r[n?0:1],fill:"none",opacity:opacity(e,n),cx:t[0],cy:t[1],r:i-r[1]/2})}function hilite(e){return["#ffffff","#fff","white"].includes(e.color)?hilites.hilitePrimary:hilites.hiliteWhite}function renderArrow(e,t,n,o,r,i){var s;function l(u){var d;const g=arrowMargin(i&&!r),v=o[0]-n[0],b=o[1]-n[1],m=Math.atan2(b,v),P=Math.cos(m)*g,T=Math.sin(m)*g;return setAttributes(createElement("line"),{stroke:u?hilite(t).color:t.color,"stroke-width":lineWidth(t,r)+(u?.04:0),"stroke-linecap":"round","marker-end":`url(#arrowhead-${u?hilite(t).key:t.key})`,opacity:!((d=e.modifiers)===null||d===void 0)&&d.hilite?1:opacity(t,r),x1:n[0],y1:n[1],x2:o[0]-P,y2:o[1]-T})}if(!(!((s=e.modifiers)===null||s===void 0)&&s.hilite))return l(!1);const a=createElement("g"),c=setAttributes(createElement("g"),{filter:"url(#cg-filter-blur)"});return c.appendChild(filterBox(n,o)),c.appendChild(l(!0)),a.appendChild(c),a.appendChild(l(!1)),a}function renderMarker(e){const t=setAttributes(createElement("marker"),{id:"arrowhead-"+e.key,orient:"auto",overflow:"visible",markerWidth:4,markerHeight:4,refX:e.key.startsWith("hilite")?1.86:2.05,refY:2});return t.appendChild(setAttributes(createElement("path"),{d:"M0,0 V4 L3,2 Z",fill:e.color})),t.setAttribute("cgKey",e.key),t}function renderLabel(e,t,n,o,r,i){var s;const a=.4*.75**e.text.length,c=labelCoords(n,o,r),u=i==="tr"?.4:0,d=setAttributes(createElement("g"),{transform:`translate(${c[0]+u},${c[1]-u})`,cgHash:t});d.appendChild(setAttributes(createElement("circle"),{r:.4/2,"fill-opacity":i?1:.8,"stroke-opacity":i?1:.7,"stroke-width":.03,fill:(s=e.fill)!==null&&s!==void 0?s:"#666",stroke:"white"}));const g=setAttributes(createElement("text"),{"font-size":a,"font-family":"Noto Sans","text-anchor":"middle",fill:"white",y:.13*.75**e.text.length});return g.innerHTML=e.text,d.appendChild(g),d}function orient(e,t){return t==="white"?e:[7-e[0],7-e[1]]}function isShort(e,t){return(e&&t.has(e)&&t.get(e).size>1)===!0}function createElement(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function setAttributes(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.setAttribute(n,t[n]);return e}function makeCustomBrush(e,t){return t?{color:e.color,opacity:Math.round(e.opacity*10)/10,lineWidth:Math.round(t.lineWidth||e.lineWidth),key:[e.key,t.lineWidth].filter(n=>n).join("")}:e}function circleWidth(){return[3/64,4/64]}function lineWidth(e,t){return(e.lineWidth||10)*(t?.85:1)/64}function opacity(e,t){return(e.opacity||1)*(t?.9:1)}function arrowMargin(e){return(e?20:10)/64}function pos2user(e,t){const n=Math.min(1,t.width/t.height),o=Math.min(1,t.height/t.width);return[(e[0]-3.5)*n,(3.5-e[1])*o]}function filterBox(e,t){const n={from:[Math.floor(Math.min(e[0],t[0])),Math.floor(Math.min(e[1],t[1]))],to:[Math.ceil(Math.max(e[0],t[0])),Math.ceil(Math.max(e[1],t[1]))]};return setAttributes(createElement("rect"),{x:n.from[0],y:n.from[1],width:n.to[0]-n.from[0],height:n.to[1]-n.from[1],fill:"none",stroke:"none"})}function moveAngle(e,t,n=!0){const o=Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI;return n?(Math.round(o*8/Math.PI)+16)%16:o}function dist(e,t){return Math.sqrt([e[0]-t[0],e[1]-t[1]].reduce((n,o)=>n+o*o,0))}function labelCoords(e,t,n){let o=dist(e,t);const r=moveAngle(e,t,!1);if(n&&(o-=33/64,n.size>1)){o-=10/64;const i=moveAngle(e,t);(n.has((i+1)%16)||n.has((i+15)%16))&&i&1&&(o-=.4)}return[e[0]-Math.cos(r)*o,e[1]-Math.sin(r)*o].map(i=>i+.5)}function renderWrap(e,t){e.innerHTML="",e.classList.add("cg-wrap");for(const a of colors)e.classList.toggle("orientation-"+a,t.orientation===a);e.classList.toggle("manipulable",!t.viewOnly);const n=createEl("cg-container");e.appendChild(n);const o=createEl("cg-board");n.appendChild(o);let r,i,s;if(t.drawable.visible&&(r=setAttributes(createElement("svg"),{class:"cg-shapes",viewBox:"-4 -4 8 8",preserveAspectRatio:"xMidYMid slice"}),r.appendChild(createDefs()),r.appendChild(createElement("g")),i=setAttributes(createElement("svg"),{class:"cg-custom-svgs",viewBox:"-3.5 -3.5 8 8",preserveAspectRatio:"xMidYMid slice"}),i.appendChild(createElement("g")),s=createEl("cg-auto-pieces"),n.appendChild(r),n.appendChild(i),n.appendChild(s)),t.coordinates){const a=t.orientation==="black"?" black":"",c=t.ranksPosition==="left"?" left":"";n.appendChild(renderCoords(ranks,"ranks"+a+c)),n.appendChild(renderCoords(files,"files"+a))}let l;return t.draggable.enabled&&t.draggable.showGhost&&(l=createEl("piece","ghost"),setVisible(l,!1),n.appendChild(l)),{board:o,container:n,wrap:e,ghost:l,svg:r,customSvg:i,autoPieces:s}}function renderCoords(e,t){const n=createEl("coords",t);let o;for(const r of e)o=createEl("coord"),o.textContent=r,n.appendChild(o);return n}function drop(e,t){if(!e.dropmode.active)return;unsetPremove(e),unsetPredrop(e);const n=e.dropmode.piece;if(n){e.pieces.set("a0",n);const o=eventPosition(t),r=o&&getKeyAtDomPos(o,whitePov(e),e.dom.bounds());r&&dropNewPiece(e,"a0",r)}e.dom.redraw()}function bindBoard(e,t){const n=e.dom.elements.board;if("ResizeObserver"in window&&new ResizeObserver(t).observe(e.dom.elements.wrap),(e.disableContextMenu||e.drawable.enabled)&&n.addEventListener("contextmenu",r=>r.preventDefault()),e.viewOnly)return;const o=startDragOrDraw(e);n.addEventListener("touchstart",o,{passive:!1}),n.addEventListener("mousedown",o,{passive:!1})}function bindDocument(e,t){const n=[];if("ResizeObserver"in window||n.push(unbindable(document.body,"chessground.resize",t)),!e.viewOnly){const o=dragOrDraw(e,move,move$1),r=dragOrDraw(e,end,end$1);for(const s of["touchmove","mousemove"])n.push(unbindable(document,s,o));for(const s of["touchend","mouseup"])n.push(unbindable(document,s,r));const i=()=>e.dom.bounds.clear();n.push(unbindable(document,"scroll",i,{capture:!0,passive:!0})),n.push(unbindable(window,"resize",i,{passive:!0}))}return()=>n.forEach(o=>o())}function unbindable(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}const startDragOrDraw=e=>t=>{e.draggable.current?cancel(e):e.drawable.current?cancel$1(e):t.shiftKey||isRightButton(t)?e.drawable.enabled&&start$2(e,t):e.viewOnly||(e.dropmode.active?drop(e,t):start$1(e,t))},dragOrDraw=(e,t,n)=>o=>{e.drawable.current?e.drawable.enabled&&n(e,o):e.viewOnly||t(e,o)};function render$b(e){const t=whitePov(e),n=posToTranslate(e.dom.bounds()),o=e.dom.elements.board,r=e.pieces,i=e.animation.current,s=i?i.plan.anims:new Map,l=i?i.plan.fadings:new Map,a=e.draggable.current,c=computeSquareClasses(e),u=new Set,d=new Set,g=new Map,v=new Map;let b,m,P,T,R,C,F,V,B,Y;for(m=o.firstChild;m;){if(b=m.cgKey,isPieceNode(m))if(P=r.get(b),R=s.get(b),C=l.get(b),T=m.cgPiece,m.cgDragging&&(!a||a.orig!==b)&&(m.classList.remove("dragging"),translate(m,n(key2pos(b),t)),m.cgDragging=!1),!C&&m.cgFading&&(m.cgFading=!1,m.classList.remove("fading")),P){if(R&&m.cgAnimating&&T===pieceNameOf(P)){const D=key2pos(b);D[0]+=R[2],D[1]+=R[3],m.classList.add("anim"),translate(m,n(D,t))}else m.cgAnimating&&(m.cgAnimating=!1,m.classList.remove("anim"),translate(m,n(key2pos(b),t)),e.addPieceZIndex&&(m.style.zIndex=posZIndex(key2pos(b),t)));T===pieceNameOf(P)&&(!C||!m.cgFading)?u.add(b):C&&T===pieceNameOf(C)?(m.classList.add("fading"),m.cgFading=!0):appendValue(g,T,m)}else appendValue(g,T,m);else if(isSquareNode(m)){const D=m.className;c.get(b)===D?d.add(b):appendValue(v,D,m)}m=m.nextSibling}for(const[D,H]of c)if(!d.has(D)){B=v.get(H),Y=B&&B.pop();const O=n(key2pos(D),t);if(Y)Y.cgKey=D,translate(Y,O);else{const L=createEl("square",H);L.cgKey=D,translate(L,O),o.insertBefore(L,o.firstChild)}}for(const[D,H]of r)if(R=s.get(D),!u.has(D))if(F=g.get(pieceNameOf(H)),V=F&&F.pop(),V){V.cgKey=D,V.cgFading&&(V.classList.remove("fading"),V.cgFading=!1);const O=key2pos(D);e.addPieceZIndex&&(V.style.zIndex=posZIndex(O,t)),R&&(V.cgAnimating=!0,V.classList.add("anim"),O[0]+=R[2],O[1]+=R[3]),translate(V,n(O,t))}else{const O=pieceNameOf(H),L=createEl("piece",O),j=key2pos(D);L.cgPiece=O,L.cgKey=D,R&&(L.cgAnimating=!0,j[0]+=R[2],j[1]+=R[3]),translate(L,n(j,t)),e.addPieceZIndex&&(L.style.zIndex=posZIndex(j,t)),o.appendChild(L)}for(const D of g.values())removeNodes(e,D);for(const D of v.values())removeNodes(e,D)}function renderResized$1(e){const t=whitePov(e),n=posToTranslate(e.dom.bounds());let o=e.dom.elements.board.firstChild;for(;o;)(isPieceNode(o)&&!o.cgAnimating||isSquareNode(o))&&translate(o,n(key2pos(o.cgKey),t)),o=o.nextSibling}function updateBounds(e){var t,n;const o=e.dom.elements.wrap.getBoundingClientRect(),r=e.dom.elements.container,i=o.height/o.width,s=Math.floor(o.width*window.devicePixelRatio/8)*8/window.devicePixelRatio,l=s*i;r.style.width=s+"px",r.style.height=l+"px",e.dom.bounds.clear(),(t=e.addDimensionsCssVarsTo)===null||t===void 0||t.style.setProperty("--cg-width",s+"px"),(n=e.addDimensionsCssVarsTo)===null||n===void 0||n.style.setProperty("--cg-height",l+"px")}const isPieceNode=e=>e.tagName==="PIECE",isSquareNode=e=>e.tagName==="SQUARE";function removeNodes(e,t){for(const n of t)e.dom.elements.board.removeChild(n)}function posZIndex(e,t){const o=e[1];return`${t?10-o:3+o}`}const pieceNameOf=e=>`${e.color} ${e.role}`;function computeSquareClasses(e){var t,n,o;const r=new Map;if(e.lastMove&&e.highlight.lastMove)for(const l of e.lastMove)addSquare(r,l,"last-move");if(e.check&&e.highlight.check&&addSquare(r,e.check,"check"),e.selected&&(addSquare(r,e.selected,"selected"),e.movable.showDests)){const l=(t=e.movable.dests)===null||t===void 0?void 0:t.get(e.selected);if(l)for(const c of l)addSquare(r,c,"move-dest"+(e.pieces.has(c)?" oc":""));const a=(o=(n=e.premovable.customDests)===null||n===void 0?void 0:n.get(e.selected))!==null&&o!==void 0?o:e.premovable.dests;if(a)for(const c of a)addSquare(r,c,"premove-dest"+(e.pieces.has(c)?" oc":""))}const i=e.premovable.current;if(i)for(const l of i)addSquare(r,l,"current-premove");else e.predroppable.current&&addSquare(r,e.predroppable.current.key,"current-premove");const s=e.exploding;if(s)for(const l of s.keys)addSquare(r,l,"exploding"+s.stage);return e.highlight.custom&&e.highlight.custom.forEach((l,a)=>{addSquare(r,a,l)}),r}function addSquare(e,t,n){const o=e.get(t);o?e.set(t,`${o} ${n}`):e.set(t,n)}function appendValue(e,t,n){const o=e.get(t);o?o.push(n):e.set(t,[n])}function syncShapes(e,t,n){const o=new Map,r=[];for(const l of e)o.set(l.hash,!1);let i=t.firstElementChild,s;for(;i;)s=i.getAttribute("cgHash"),o.has(s)?o.set(s,!0):r.push(i),i=i.nextElementSibling;for(const l of r)t.removeChild(l);for(const l of e)o.get(l.hash)||t.appendChild(n(l))}function render$a(e,t){const o=e.drawable.autoShapes.filter(r=>r.piece).map(r=>({shape:r,hash:hash(r),current:!1}));syncShapes(o,t,r=>renderShape(e,r,e.dom.bounds()))}function renderResized(e){var t;const n=whitePov(e),o=posToTranslate(e.dom.bounds());let r=(t=e.dom.elements.autoPieces)===null||t===void 0?void 0:t.firstChild;for(;r;)translateAndScale(r,o(key2pos(r.cgKey),n),r.cgScale),r=r.nextSibling}function renderShape(e,{shape:t,hash:n},o){var r,i,s;const l=t.orig,a=(r=t.piece)===null||r===void 0?void 0:r.role,c=(i=t.piece)===null||i===void 0?void 0:i.color,u=(s=t.piece)===null||s===void 0?void 0:s.scale,d=createEl("piece",`${a} ${c}`);return d.setAttribute("cgHash",n),d.cgKey=l,d.cgScale=u,translateAndScale(d,posToTranslate(o)(key2pos(l),whitePov(e)),u),d}const hash=e=>{var t,n,o;return[e.orig,(t=e.piece)===null||t===void 0?void 0:t.role,(n=e.piece)===null||n===void 0?void 0:n.color,(o=e.piece)===null||o===void 0?void 0:o.scale].join(",")};function Chessground(e,t){const n=defaults();configure(n,t||{});function o(){const r="dom"in n?n.dom.unbind:void 0,i=renderWrap(e,n),s=memo(()=>i.board.getBoundingClientRect()),l=u=>{render$b(c),i.autoPieces&&render$a(c,i.autoPieces),!u&&i.svg&&renderSvg(c,i.svg,i.customSvg)},a=()=>{updateBounds(c),renderResized$1(c),i.autoPieces&&renderResized(c)},c=n;return c.dom={elements:i,bounds:s,redraw:debounceRedraw(l),redrawNow:l,unbind:r},c.drawable.prevSvgHash="",updateBounds(c),l(!1),bindBoard(c,a),r||(c.dom.unbind=bindDocument(c,a)),c.events.insert&&c.events.insert(i),c}return start(o(),o)}function debounceRedraw(e){let t=!1;return()=>{t||(t=!0,requestAnimationFrame(()=>{e(),t=!1}))}}/**
 * @license
 * Copyright (c) 2023, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const WHITE="w",BLACK="b",PAWN="p",KNIGHT="n",BISHOP="b",ROOK="r",QUEEN="q",KING="k",DEFAULT_POSITION="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",EMPTY=-1,FLAGS={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},SQUARES=["a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1"],BITS={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},Ox88={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},PAWN_OFFSETS={b:[16,32,17,15],w:[-16,-32,-17,-15]},PIECE_OFFSETS={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},ATTACKS=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],RAYS=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],PIECE_MASKS={p:1,n:2,b:4,r:8,q:16,k:32},SYMBOLS="pnbrqkPNBRQK",PROMOTIONS=[KNIGHT,BISHOP,ROOK,QUEEN],RANK_1=7,RANK_2=6,RANK_7=1,RANK_8=0,SIDES={[KING]:BITS.KSIDE_CASTLE,[QUEEN]:BITS.QSIDE_CASTLE},ROOKS={w:[{square:Ox88.a1,flag:BITS.QSIDE_CASTLE},{square:Ox88.h1,flag:BITS.KSIDE_CASTLE}],b:[{square:Ox88.a8,flag:BITS.QSIDE_CASTLE},{square:Ox88.h8,flag:BITS.KSIDE_CASTLE}]},SECOND_RANK={b:RANK_7,w:RANK_2},TERMINATION_MARKERS=["1-0","0-1","1/2-1/2","*"];function rank(e){return e>>4}function file(e){return e&15}function isDigit(e){return"0123456789".indexOf(e)!==-1}function algebraic(e){const t=file(e),n=rank(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function swapColor(e){return e===WHITE?BLACK:WHITE}function validateFen(e){const t=e.split(/\s+/);if(t.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(t[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const o=parseInt(t[4],10);if(isNaN(o)||o<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const r=t[0].split("/");if(r.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let s=0;s<r.length;s++){let l=0,a=!1;for(let c=0;c<r[s].length;c++)if(isDigit(r[s][c])){if(a)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};l+=parseInt(r[s][c],10),a=!0}else{if(!/^[prnbqkPRNBQK]$/.test(r[s][c]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};l+=1,a=!1}if(l!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(t[3][1]=="3"&&t[1]=="w"||t[3][1]=="6"&&t[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const i=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:s,regex:l}of i){if(!l.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${s} king`};if((t[0].match(l)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${s} kings`}}return Array.from(r[0]+r[7]).some(s=>s.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function getDisambiguator(e,t){const n=e.from,o=e.to,r=e.piece;let i=0,s=0,l=0;for(let a=0,c=t.length;a<c;a++){const u=t[a].from,d=t[a].to,g=t[a].piece;r===g&&n!==u&&o===d&&(i++,rank(n)===rank(u)&&s++,file(n)===file(u)&&l++)}return i>0?s>0&&l>0?algebraic(n):l>0?algebraic(n).charAt(1):algebraic(n).charAt(0):""}function addMove(e,t,n,o,r,i=void 0,s=BITS.NORMAL){const l=rank(o);if(r===PAWN&&(l===RANK_1||l===RANK_8))for(let a=0;a<PROMOTIONS.length;a++){const c=PROMOTIONS[a];e.push({color:t,from:n,to:o,piece:r,captured:i,promotion:c,flags:s|BITS.PROMOTION})}else e.push({color:t,from:n,to:o,piece:r,captured:i,flags:s})}function inferPieceType(e){let t=e.charAt(0);return t>="a"&&t<="h"?e.match(/[a-h]\d.*[a-h]\d/)?void 0:PAWN:(t=t.toLowerCase(),t==="o"?KING:t)}function strippedSan(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function trimFen(e){return e.split(" ").slice(0,4).join(" ")}class Chess{constructor(t=DEFAULT_POSITION){U(this,"_board",new Array(128));U(this,"_turn",WHITE);U(this,"_header",{});U(this,"_kings",{w:EMPTY,b:EMPTY});U(this,"_epSquare",-1);U(this,"_halfMoves",0);U(this,"_moveNumber",0);U(this,"_history",[]);U(this,"_comments",{});U(this,"_castling",{w:0,b:0});U(this,"_positionCount",{});this.load(t)}clear({preserveHeaders:t=!1}={}){this._board=new Array(128),this._kings={w:EMPTY,b:EMPTY},this._turn=WHITE,this._castling={w:0,b:0},this._epSquare=EMPTY,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{},this._positionCount={},delete this._header.SetUp,delete this._header.FEN}removeHeader(t){t in this._header&&delete this._header[t]}load(t,{skipValidation:n=!1,preserveHeaders:o=!1}={}){let r=t.split(/\s+/);if(r.length>=2&&r.length<6){const l=["-","-","0","1"];t=r.concat(l.slice(-(6-r.length))).join(" ")}if(r=t.split(/\s+/),!n){const{ok:l,error:a}=validateFen(t);if(!l)throw new Error(a)}const i=r[0];let s=0;this.clear({preserveHeaders:o});for(let l=0;l<i.length;l++){const a=i.charAt(l);if(a==="/")s+=8;else if(isDigit(a))s+=parseInt(a,10);else{const c=a<"a"?WHITE:BLACK;this._put({type:a.toLowerCase(),color:c},algebraic(s)),s++}}this._turn=r[1],r[2].indexOf("K")>-1&&(this._castling.w|=BITS.KSIDE_CASTLE),r[2].indexOf("Q")>-1&&(this._castling.w|=BITS.QSIDE_CASTLE),r[2].indexOf("k")>-1&&(this._castling.b|=BITS.KSIDE_CASTLE),r[2].indexOf("q")>-1&&(this._castling.b|=BITS.QSIDE_CASTLE),this._epSquare=r[3]==="-"?EMPTY:Ox88[r[3]],this._halfMoves=parseInt(r[4],10),this._moveNumber=parseInt(r[5],10),this._updateSetup(t),this._incPositionCount(t)}fen(){var i,s;let t=0,n="";for(let l=Ox88.a8;l<=Ox88.h1;l++){if(this._board[l]){t>0&&(n+=t,t=0);const{color:a,type:c}=this._board[l];n+=a===WHITE?c.toUpperCase():c.toLowerCase()}else t++;l+1&136&&(t>0&&(n+=t),l!==Ox88.h1&&(n+="/"),t=0,l+=8)}let o="";this._castling[WHITE]&BITS.KSIDE_CASTLE&&(o+="K"),this._castling[WHITE]&BITS.QSIDE_CASTLE&&(o+="Q"),this._castling[BLACK]&BITS.KSIDE_CASTLE&&(o+="k"),this._castling[BLACK]&BITS.QSIDE_CASTLE&&(o+="q"),o=o||"-";let r="-";if(this._epSquare!==EMPTY){const l=this._epSquare+(this._turn===WHITE?16:-16),a=[l+1,l-1];for(const c of a){if(c&136)continue;const u=this._turn;if(((i=this._board[c])==null?void 0:i.color)===u&&((s=this._board[c])==null?void 0:s.type)===PAWN){this._makeMove({color:u,from:c,to:this._epSquare,piece:PAWN,captured:PAWN,flags:BITS.EP_CAPTURE});const d=!this._isKingAttacked(u);if(this._undoMove(),d){r=algebraic(this._epSquare);break}}}}return[n,this._turn,o,r,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(t){this._history.length>0||(t!==DEFAULT_POSITION?(this._header.SetUp="1",this._header.FEN=t):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(DEFAULT_POSITION)}get(t){return this._board[Ox88[t]]||!1}put({type:t,color:n},o){return this._put({type:t,color:n},o)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_put({type:t,color:n},o){if(SYMBOLS.indexOf(t.toLowerCase())===-1||!(o in Ox88))return!1;const r=Ox88[o];if(t==KING&&!(this._kings[n]==EMPTY||this._kings[n]==r))return!1;const i=this._board[r];return i&&i.type===KING&&(this._kings[i.color]=EMPTY),this._board[r]={type:t,color:n},t===KING&&(this._kings[n]=r),!0}remove(t){const n=this.get(t);return delete this._board[Ox88[t]],n&&n.type===KING&&(this._kings[n.color]=EMPTY),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),n}_updateCastlingRights(){var o,r,i,s,l,a,c,u,d,g,v,b;const t=((o=this._board[Ox88.e1])==null?void 0:o.type)===KING&&((r=this._board[Ox88.e1])==null?void 0:r.color)===WHITE,n=((i=this._board[Ox88.e8])==null?void 0:i.type)===KING&&((s=this._board[Ox88.e8])==null?void 0:s.color)===BLACK;(!t||((l=this._board[Ox88.a1])==null?void 0:l.type)!==ROOK||((a=this._board[Ox88.a1])==null?void 0:a.color)!==WHITE)&&(this._castling.w&=~BITS.QSIDE_CASTLE),(!t||((c=this._board[Ox88.h1])==null?void 0:c.type)!==ROOK||((u=this._board[Ox88.h1])==null?void 0:u.color)!==WHITE)&&(this._castling.w&=~BITS.KSIDE_CASTLE),(!n||((d=this._board[Ox88.a8])==null?void 0:d.type)!==ROOK||((g=this._board[Ox88.a8])==null?void 0:g.color)!==BLACK)&&(this._castling.b&=~BITS.QSIDE_CASTLE),(!n||((v=this._board[Ox88.h8])==null?void 0:v.type)!==ROOK||((b=this._board[Ox88.h8])==null?void 0:b.color)!==BLACK)&&(this._castling.b&=~BITS.KSIDE_CASTLE)}_updateEnPassantSquare(){var i,s;if(this._epSquare===EMPTY)return;const t=this._epSquare+(this._turn===WHITE?-16:16),n=this._epSquare+(this._turn===WHITE?16:-16),o=[n+1,n-1];if(this._board[t]!==null||this._board[this._epSquare]!==null||((i=this._board[n])==null?void 0:i.color)!==swapColor(this._turn)||((s=this._board[n])==null?void 0:s.type)!==PAWN){this._epSquare=EMPTY;return}const r=l=>{var a,c;return!(l&136)&&((a=this._board[l])==null?void 0:a.color)===this._turn&&((c=this._board[l])==null?void 0:c.type)===PAWN};o.some(r)||(this._epSquare=EMPTY)}_attacked(t,n){for(let o=Ox88.a8;o<=Ox88.h1;o++){if(o&136){o+=7;continue}if(this._board[o]===void 0||this._board[o].color!==t)continue;const r=this._board[o],i=o-n;if(i===0)continue;const s=i+119;if(ATTACKS[s]&PIECE_MASKS[r.type]){if(r.type===PAWN){if(i>0){if(r.color===WHITE)return!0}else if(r.color===BLACK)return!0;continue}if(r.type==="n"||r.type==="k")return!0;const l=RAYS[s];let a=o+l,c=!1;for(;a!==n;){if(this._board[a]!=null){c=!0;break}a+=l}if(!c)return!0}}return!1}_isKingAttacked(t){const n=this._kings[t];return n===-1?!1:this._attacked(swapColor(t),n)}isAttacked(t,n){return this._attacked(n,Ox88[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},n=[];let o=0,r=0;for(let i=Ox88.a8;i<=Ox88.h1;i++){if(r=(r+1)%2,i&136){i+=7;continue}const s=this._board[i];s&&(t[s.type]=s.type in t?t[s.type]+1:1,s.type===BISHOP&&n.push(r),o++)}if(o===2)return!0;if(o===3&&(t[BISHOP]===1||t[KNIGHT]===1))return!0;if(o===t[BISHOP]+2){let i=0;const s=n.length;for(let l=0;l<s;l++)i+=n[l];if(i===0||i===s)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this.fen())>=3}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:t=!1,square:n=void 0,piece:o=void 0}={}){const r=this._moves({square:n,piece:o});return t?r.map(i=>this._makePretty(i)):r.map(i=>this._moveToSan(i,r))}_moves({legal:t=!0,piece:n=void 0,square:o=void 0}={}){var v;const r=o?o.toLowerCase():void 0,i=n==null?void 0:n.toLowerCase(),s=[],l=this._turn,a=swapColor(l);let c=Ox88.a8,u=Ox88.h1,d=!1;if(r)if(r in Ox88)c=u=Ox88[r],d=!0;else return[];for(let b=c;b<=u;b++){if(b&136){b+=7;continue}if(!this._board[b]||this._board[b].color===a)continue;const{type:m}=this._board[b];let P;if(m===PAWN){if(i&&i!==m)continue;P=b+PAWN_OFFSETS[l][0],this._board[P]||(addMove(s,l,b,P,PAWN),P=b+PAWN_OFFSETS[l][1],SECOND_RANK[l]===rank(b)&&!this._board[P]&&addMove(s,l,b,P,PAWN,void 0,BITS.BIG_PAWN));for(let T=2;T<4;T++)P=b+PAWN_OFFSETS[l][T],!(P&136)&&(((v=this._board[P])==null?void 0:v.color)===a?addMove(s,l,b,P,PAWN,this._board[P].type,BITS.CAPTURE):P===this._epSquare&&addMove(s,l,b,P,PAWN,PAWN,BITS.EP_CAPTURE))}else{if(i&&i!==m)continue;for(let T=0,R=PIECE_OFFSETS[m].length;T<R;T++){const C=PIECE_OFFSETS[m][T];for(P=b;P+=C,!(P&136);){if(!this._board[P])addMove(s,l,b,P,m);else{if(this._board[P].color===l)break;addMove(s,l,b,P,m,this._board[P].type,BITS.CAPTURE);break}if(m===KNIGHT||m===KING)break}}}}if((i===void 0||i===KING)&&(!d||u===this._kings[l])){if(this._castling[l]&BITS.KSIDE_CASTLE){const b=this._kings[l],m=b+2;!this._board[b+1]&&!this._board[m]&&!this._attacked(a,this._kings[l])&&!this._attacked(a,b+1)&&!this._attacked(a,m)&&addMove(s,l,this._kings[l],m,KING,void 0,BITS.KSIDE_CASTLE)}if(this._castling[l]&BITS.QSIDE_CASTLE){const b=this._kings[l],m=b-2;!this._board[b-1]&&!this._board[b-2]&&!this._board[b-3]&&!this._attacked(a,this._kings[l])&&!this._attacked(a,b-1)&&!this._attacked(a,m)&&addMove(s,l,this._kings[l],m,KING,void 0,BITS.QSIDE_CASTLE)}}if(!t||this._kings[l]===-1)return s;const g=[];for(let b=0,m=s.length;b<m;b++)this._makeMove(s[b]),this._isKingAttacked(l)||g.push(s[b]),this._undoMove();return g}move(t,{strict:n=!1}={}){let o=null;if(typeof t=="string")o=this._moveFromSan(t,n);else if(typeof t=="object"){const i=this._moves();for(let s=0,l=i.length;s<l;s++)if(t.from===algebraic(i[s].from)&&t.to===algebraic(i[s].to)&&(!("promotion"in i[s])||t.promotion===i[s].promotion)){o=i[s];break}}if(!o)throw typeof t=="string"?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);const r=this._makePretty(o);return this._makeMove(o),this._incPositionCount(r.after),r}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(t){const n=this._turn,o=swapColor(n);if(this._push(t),this._board[t.to]=this._board[t.from],delete this._board[t.from],t.flags&BITS.EP_CAPTURE&&(this._turn===BLACK?delete this._board[t.to-16]:delete this._board[t.to+16]),t.promotion&&(this._board[t.to]={type:t.promotion,color:n}),this._board[t.to].type===KING){if(this._kings[n]=t.to,t.flags&BITS.KSIDE_CASTLE){const r=t.to-1,i=t.to+1;this._board[r]=this._board[i],delete this._board[i]}else if(t.flags&BITS.QSIDE_CASTLE){const r=t.to+1,i=t.to-2;this._board[r]=this._board[i],delete this._board[i]}this._castling[n]=0}if(this._castling[n]){for(let r=0,i=ROOKS[n].length;r<i;r++)if(t.from===ROOKS[n][r].square&&this._castling[n]&ROOKS[n][r].flag){this._castling[n]^=ROOKS[n][r].flag;break}}if(this._castling[o]){for(let r=0,i=ROOKS[o].length;r<i;r++)if(t.to===ROOKS[o][r].square&&this._castling[o]&ROOKS[o][r].flag){this._castling[o]^=ROOKS[o][r].flag;break}}t.flags&BITS.BIG_PAWN?n===BLACK?this._epSquare=t.to-16:this._epSquare=t.to+16:this._epSquare=EMPTY,t.piece===PAWN?this._halfMoves=0:t.flags&(BITS.CAPTURE|BITS.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,n===BLACK&&this._moveNumber++,this._turn=o}undo(){const t=this._undoMove();if(t){const n=this._makePretty(t);return this._decPositionCount(n.after),n}return null}_undoMove(){const t=this._history.pop();if(t===void 0)return null;const n=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber;const o=this._turn,r=swapColor(o);if(this._board[n.from]=this._board[n.to],this._board[n.from].type=n.piece,delete this._board[n.to],n.captured)if(n.flags&BITS.EP_CAPTURE){let i;o===BLACK?i=n.to-16:i=n.to+16,this._board[i]={type:PAWN,color:r}}else this._board[n.to]={type:n.captured,color:r};if(n.flags&(BITS.KSIDE_CASTLE|BITS.QSIDE_CASTLE)){let i,s;n.flags&BITS.KSIDE_CASTLE?(i=n.to+1,s=n.to-1):(i=n.to-2,s=n.to+1),this._board[i]=this._board[s],delete this._board[s]}return n}pgn({newline:t=`
`,maxWidth:n=0}={}){const o=[];let r=!1;for(const g in this._header)o.push("["+g+' "'+this._header[g]+'"]'+t),r=!0;r&&this._history.length&&o.push(t);const i=g=>{const v=this._comments[this.fen()];if(typeof v<"u"){const b=g.length>0?" ":"";g=`${g}${b}{${v}}`}return g},s=[];for(;this._history.length>0;)s.push(this._undoMove());const l=[];let a="";for(s.length===0&&l.push(i(""));s.length>0;){a=i(a);const g=s.pop();if(!g)break;if(!this._history.length&&g.color==="b"){const v=`${this._moveNumber}. ...`;a=a?`${a} ${v}`:v}else g.color==="w"&&(a.length&&l.push(a),a=this._moveNumber+".");a=a+" "+this._moveToSan(g,this._moves({legal:!0})),this._makeMove(g)}if(a.length&&l.push(i(a)),typeof this._header.Result<"u"&&l.push(this._header.Result),n===0)return o.join("")+l.join(" ");const c=function(){return o.length>0&&o[o.length-1]===" "?(o.pop(),!0):!1},u=function(g,v){for(const b of v.split(" "))if(b){if(g+b.length>n){for(;c();)g--;o.push(t),g=0}o.push(b),g+=b.length,o.push(" "),g++}return c()&&g--,g};let d=0;for(let g=0;g<l.length;g++){if(d+l[g].length>n&&l[g].includes("{")){d=u(d,l[g]);continue}d+l[g].length>n&&g!==0?(o[o.length-1]===" "&&o.pop(),o.push(t),d=0):g!==0&&(o.push(" "),d++),o.push(l[g]),d+=l[g].length}return o.join("")}header(...t){for(let n=0;n<t.length;n+=2)typeof t[n]=="string"&&typeof t[n+1]=="string"&&(this._header[t[n]]=t[n+1]);return this._header}loadPgn(t,{strict:n=!1,newlineChar:o=`\r?
`}={}){function r(C){return C.replace(/\\/g,"\\")}function i(C){const F={},V=C.split(new RegExp(r(o)));let B="",Y="";for(let D=0;D<V.length;D++){const H=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;B=V[D].replace(H,"$1"),Y=V[D].replace(H,"$2"),B.trim().length>0&&(F[B]=Y)}return F}t=t.trim();const l=new RegExp("^(\\[((?:"+r(o)+")|.)*\\])((?:\\s*"+r(o)+"){2}|(?:\\s*"+r(o)+")*$)").exec(t),a=l&&l.length>=2?l[1]:"";this.reset();const c=i(a);let u="";for(const C in c)C.toLowerCase()==="fen"&&(u=c[C]),this.header(C,c[C]);if(!n)u&&this.load(u,{preserveHeaders:!0});else if(c.SetUp==="1"){if(!("FEN"in c))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(c.FEN,{preserveHeaders:!0})}function d(C){return Array.from(C).map(function(F){return F.charCodeAt(0)<128?F.charCodeAt(0).toString(16):encodeURIComponent(F).replace(/%/g,"").toLowerCase()}).join("")}function g(C){return C.length==0?"":decodeURIComponent("%"+(C.match(/.{1,2}/g)||[]).join("%"))}const v=function(C){return C=C.replace(new RegExp(r(o),"g")," "),`{${d(C.slice(1,C.length-1))}}`},b=function(C){if(C.startsWith("{")&&C.endsWith("}"))return g(C.slice(1,C.length-1))};let m=t.replace(a,"").replace(new RegExp(`({[^}]*})+?|;([^${r(o)}]*)`,"g"),function(C,F,V){return F!==void 0?v(F):" "+v(`{${V.slice(1)}}`)}).replace(new RegExp(r(o),"g")," ");const P=/(\([^()]+\))+?/g;for(;P.test(m);)m=m.replace(P,"");m=m.replace(/\d+\.(\.\.)?/g,""),m=m.replace(/\.\.\./g,""),m=m.replace(/\$\d+/g,"");let T=m.trim().split(new RegExp(/\s+/));T=T.filter(C=>C!=="");let R="";for(let C=0;C<T.length;C++){const F=b(T[C]);if(F!==void 0){this._comments[this.fen()]=F;continue}const V=this._moveFromSan(T[C],n);if(V==null)if(TERMINATION_MARKERS.indexOf(T[C])>-1)R=T[C];else throw new Error(`Invalid move in PGN: ${T[C]}`);else R="",this._makeMove(V),this._incPositionCount(this.fen())}R&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",R)}_moveToSan(t,n){let o="";if(t.flags&BITS.KSIDE_CASTLE)o="O-O";else if(t.flags&BITS.QSIDE_CASTLE)o="O-O-O";else{if(t.piece!==PAWN){const r=getDisambiguator(t,n);o+=t.piece.toUpperCase()+r}t.flags&(BITS.CAPTURE|BITS.EP_CAPTURE)&&(t.piece===PAWN&&(o+=algebraic(t.from)[0]),o+="x"),o+=algebraic(t.to),t.promotion&&(o+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?o+="#":o+="+"),this._undoMove(),o}_moveFromSan(t,n=!1){const o=strippedSan(t);let r=inferPieceType(o),i=this._moves({legal:!0,piece:r});for(let g=0,v=i.length;g<v;g++)if(o===strippedSan(this._moveToSan(i[g],i)))return i[g];if(n)return null;let s,l,a,c,u,d=!1;if(l=o.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),l?(s=l[1],a=l[2],c=l[3],u=l[4],a.length==1&&(d=!0)):(l=o.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),l&&(s=l[1],a=l[2],c=l[3],u=l[4],a.length==1&&(d=!0))),r=inferPieceType(o),i=this._moves({legal:!0,piece:s||r}),!c)return null;for(let g=0,v=i.length;g<v;g++)if(a){if((!s||s.toLowerCase()==i[g].piece)&&Ox88[a]==i[g].from&&Ox88[c]==i[g].to&&(!u||u.toLowerCase()==i[g].promotion))return i[g];if(d){const b=algebraic(i[g].from);if((!s||s.toLowerCase()==i[g].piece)&&Ox88[c]==i[g].to&&(a==b[0]||a==b[1])&&(!u||u.toLowerCase()==i[g].promotion))return i[g]}}else if(o===strippedSan(this._moveToSan(i[g],i)).replace("x",""))return i[g];return null}ascii(){let t=`   +------------------------+
`;for(let n=Ox88.a8;n<=Ox88.h1;n++){if(file(n)===0&&(t+=" "+"87654321"[rank(n)]+" |"),this._board[n]){const o=this._board[n].type,i=this._board[n].color===WHITE?o.toUpperCase():o.toLowerCase();t+=" "+i+" "}else t+=" . ";n+1&136&&(t+=`|
`,n+=8)}return t+=`   +------------------------+
`,t+="     a  b  c  d  e  f  g  h",t}perft(t){const n=this._moves({legal:!1});let o=0;const r=this._turn;for(let i=0,s=n.length;i<s;i++)this._makeMove(n[i]),this._isKingAttacked(r)||(t-1>0?o+=this.perft(t-1):o++),this._undoMove();return o}_makePretty(t){const{color:n,piece:o,from:r,to:i,flags:s,captured:l,promotion:a}=t;let c="";for(const v in BITS)BITS[v]&s&&(c+=FLAGS[v]);const u=algebraic(r),d=algebraic(i),g={color:n,piece:o,from:u,to:d,san:this._moveToSan(t,this._moves({legal:!0})),flags:c,lan:u+d,before:this.fen(),after:""};return this._makeMove(t),g.after=this.fen(),this._undoMove(),l&&(g.captured=l),a&&(g.promotion=a,g.lan+=a),g}turn(){return this._turn}board(){const t=[];let n=[];for(let o=Ox88.a8;o<=Ox88.h1;o++)this._board[o]==null?n.push(null):n.push({square:algebraic(o),type:this._board[o].type,color:this._board[o].color}),o+1&136&&(t.push(n),n=[],o+=8);return t}squareColor(t){if(t in Ox88){const n=Ox88[t];return(rank(n)+file(n))%2===0?"light":"dark"}return null}history({verbose:t=!1}={}){const n=[],o=[];for(;this._history.length>0;)n.push(this._undoMove());for(;;){const r=n.pop();if(!r)break;t?o.push(this._makePretty(r)):o.push(this._moveToSan(r,this._moves())),this._makeMove(r)}return o}_getPositionCount(t){const n=trimFen(t);return this._positionCount[n]||0}_incPositionCount(t){const n=trimFen(t);this._positionCount[n]===void 0&&(this._positionCount[n]=0),this._positionCount[n]+=1}_decPositionCount(t){const n=trimFen(t);this._positionCount[n]===1?delete this._positionCount[n]:this._positionCount[n]-=1}_pruneComments(){const t=[],n={},o=r=>{r in this._comments&&(n[r]=this._comments[r])};for(;this._history.length>0;)t.push(this._undoMove());for(o(this.fen());;){const r=t.pop();if(!r)break;this._makeMove(r),o(this.fen())}this._comments=n}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>({fen:t,comment:this._comments[t]}))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>{const n=this._comments[t];return delete this._comments[t],{fen:t,comment:n}})}setCastlingRights(t,n){for(const r of[KING,QUEEN])n[r]!==void 0&&(n[r]?this._castling[t]|=SIDES[r]:this._castling[t]&=~SIDES[r]);this._updateCastlingRights();const o=this.getCastlingRights(t);return(n[KING]===void 0||n[KING]===o[KING])&&(n[QUEEN]===void 0||n[QUEEN]===o[QUEEN])}getCastlingRights(t){return{[KING]:(this._castling[t]&SIDES[KING])!==0,[QUEEN]:(this._castling[t]&SIDES[QUEEN])!==0}}moveNumber(){return this._moveNumber}}const promotions=[{name:"Queen",value:"q"},{name:"Rook",value:"r"},{name:"Knight",value:"n"},{name:"Bishop",value:"b"}];class API{constructor(t,n){U(this,"state");U(this,"position");U(this,"promotionSelected",t=>{this.state.value.viewing.promotionDialog.isEnabled&&(this.state.value.viewing.promotionDialog.callback(t),this.state.value.viewing.promotionDialog={isEnabled:!1})});U(this,"promotionCanceled",()=>{this.state.value.viewing.promotionDialog.isEnabled&&(this.state.value.viewing.promotionDialog.cancel(),this.state.value.viewing.promotionDialog={isEnabled:!1})});this.state=t,this.position=n}loadPgn(t){var l;this.promotionCanceled(),this.position.loadPgn(t);const n=this.position.history({verbose:!0}),o=fullMovesToGamePly(fromShortColor(this.position.turn()),this.position.moveNumber())-n.length,r=this.position.fen(),i=((l=n[0])==null?void 0:l.before)||r,s=new Chess(i);this.state.value={start:{fen:i,ply:o},current:{fen:r,pgn:this.position.pgn(),history:n,playerColor:this.state.value.current.playerColor,ply:o+n.length,turnColor:fromShortColor(this.position.turn()),gameResult:determineGameResult(this.position)},viewing:{fen:i,autoShapes:[],orientation:this.state.value.viewing.orientation,check:kingCheckSquare(s,fromShortColor(s.turn())),legalMoves:legalMoves(s),ply:o,promotionDialog:{isEnabled:!1},turnColor:fromShortColor(s.turn()),materialInfo:getMaterialInfo(s)}}}setPlayerColor(t){this.state.value.current.playerColor=t}async move(t){this.state.value.current.playerColor===void 0&&this.state.value.current.ply!==this.state.value.viewing.ply?this.trimMoves():this.viewCurrent();const n=this.position.get(t.from),o=n.color==="w"?"8":"1";let r;if(t.promotion)r=t.promotion;else if((n==null?void 0:n.type)==="p"&&t.to[1]===o)try{r=await new Promise((s,l)=>{this.state.value.viewing.promotionDialog={isEnabled:!0,color:fromShortColor(this.position.turn()),square:t.to,callback:s,cancel:l}})}catch{return}this.position.move({...t,promotion:r});const i=determineGameResult(this.position);i&&(this.state.value.current.gameResult=i),this.state.value.current.fen=this.state.value.viewing.fen=this.position.fen(),this.state.value.current.pgn=this.position.pgn(),this.state.value.current.history=this.position.history({verbose:!0}),this.state.value.viewing.turnColor=this.state.value.current.turnColor=fromShortColor(this.position.turn()),this.state.value.viewing.legalMoves=legalMoves(this.position),this.state.value.viewing.check=kingCheckSquare(this.position,this.state.value.viewing.turnColor),this.state.value.viewing.ply=this.state.value.current.ply=this.getCurrentPly(),this.state.value.viewing.materialInfo=getMaterialInfo(this.position)}toggleOrientation(){this.state.value.viewing.orientation=opposite(this.state.value.viewing.orientation)}setAutoShapes(t){this.state.value.viewing.autoShapes=t}trimMoves(){const t=this.state.value.viewing.ply,o=this.state.value.current.ply-t;for(let r=0;r<o;r++)this.position.undo();this.state.value.current.ply=t,this.state.value.current.pgn=this.position.pgn(),this.state.value.current.history=this.position.history({verbose:!0}),this.state.value.current.gameResult=determineGameResult(this.position)}viewStart(){this.viewGamePly(this.state.value.start.ply)}viewNext(){this.viewGamePly(this.state.value.viewing.ply+1)}viewPrevious(){this.viewGamePly(this.state.value.viewing.ply-1)}viewCurrent(){this.viewGamePly(this.state.value.current.ply)}viewGamePly(t){const n=this.position.history({verbose:!0}),o=t-this.state.value.start.ply;if(o<0||o>n.length)return;const r=this.state.value.viewing.ply!==this.state.value.current.ply;if(o===n.length){if(r){const i=n[n.length-1];this.state.value.viewing.fen=i.after,this.state.value.viewing.legalMoves=legalMoves(this.position),this.state.value.viewing.turnColor=fromShortColor(this.position.turn()),this.state.value.viewing.check=kingCheckSquare(this.position,this.state.value.viewing.turnColor),this.state.value.viewing.materialInfo=getMaterialInfo(this.position),this.state.value.viewing.ply=t}}else{r?this.state.value.viewing.ply=t:(this.state.value.viewing.ply=t,this.promotionCanceled());const i=new Chess(n[o].before);this.state.value.viewing.turnColor=n[o].color==="w"?"white":"black",this.state.value.viewing.legalMoves=legalMoves(i),this.state.value.viewing.fen=n[o].before,this.state.value.viewing.check=kingCheckSquare(i,this.state.value.viewing.turnColor),this.state.value.viewing.materialInfo=getMaterialInfo(i)}}getCurrentPly(){return fullMovesToGamePly(fromShortColor(this.position.turn()),this.position.moveNumber())}}function legalMoves(e){const t=new Map;for(const n of SQUARES){const o=e.moves({square:n,verbose:!0});o.length>0&&t.set(o[0].from,o.map(r=>r.to))}return t}function kingCheckSquare(e,t){if(e.isCheck()){for(const n of e.board().flat())if((n==null?void 0:n.type)==="k"&&(n==null?void 0:n.color)===t[0])return n.square}else return}function getMaterialInfo(e){const t={pawn:1,knight:3,bishop:3,rook:5,queen:9,king:0},n={p:"pawn",n:"knight",b:"bishop",r:"rook",q:"queen",k:"king"},o={count:{diff:{pawn:0,knight:0,bishop:0,rook:0,queen:0,king:0}},value:{diff:0}};function r(s){return s!==null}const i=e.board().flat().filter(r);for(const s of i)s.color==="w"?(o.count.diff[n[s.type]]+=1,o.value.diff+=t[n[s.type]]):(o.count.diff[n[s.type]]-=1,o.value.diff-=t[n[s.type]]);return o}function fromShortColor(e){return e==="w"?"white":"black"}function fullMovesToGamePly(e,t){return Math.max(2*(t-1),0)+ +(e==="black")}function determineGameResult(e){if(e.isGameOver()){if(e.isCheckmate())return{result:e.turn()==="w"?"blackWon":"whiteWon",reason:"checkmate"};if(e.isDraw()){if(e.isThreefoldRepetition())return{result:"draw",reason:"threefold repetition"};if(e.isInsufficientMaterial())return{result:"draw",reason:"insufficient material"};if(e.isStalemate())return{result:"draw",reason:"stalemate"}}}}function useChess(){const e=new Chess,t=e.fen(),n=fullMovesToGamePly(fromShortColor(e.turn()),e.moveNumber()),o=ref({start:{fen:t,ply:n},current:{fen:t,pgn:e.pgn(),history:e.history({verbose:!0}),playerColor:void 0,ply:n,turnColor:fromShortColor(e.turn()),gameResult:void 0},viewing:{fen:t,autoShapes:[],orientation:"white",check:kingCheckSquare(e,fromShortColor(e.turn())),legalMoves:legalMoves(e),ply:n,promotionDialog:{isEnabled:!1},turnColor:fromShortColor(e.turn()),materialInfo:getMaterialInfo(e)}}),r=shallowRef(new API(o,e));return{state:readonly(o),api:r}}const _hoisted_1$f={class:"main-board w-fit h-fit"},_hoisted_2$e=["aria-label","onClick","onTouchstartPassive"],_sfc_main$f=defineComponent({__name:"ChessgroundBoard",props:{state:{},api:{}},setup(e){const t=ref(null),n=ref(null),o=e,{api:r,state:i}=toRefs(o),s=(l,a,c)=>{const u=a[0],d=a[1],g=u.charCodeAt(0)-97,v=d.charCodeAt(0)-49,b=c==="white"?g:7-g,m=c==="white"&&d==="8"||c!=="white"&&d==="1"?1:-1;return`grid-area: ${(c==="white"?7-v:v)+m*l+1} / ${b+1} /  span 1  / span 1`};return onMounted(()=>{if(t.value===null)throw new Error("Failed to mount board");if(n.value===null)throw new Error("Failed to mount promotion choice dialog");const a={movable:{free:!1,events:{after:async(d,g)=>r.value.move({from:d,to:g})}},addDimensionsCssVarsTo:n.value},c=Chessground(t.value,a),u=()=>{var v;c.set({fen:i.value.viewing.fen}),c.state.turnColor=i.value.viewing.turnColor,c.state.check=i.value.viewing.check;const d=i.value.viewing.ply-i.value.start.ply,g=i.value.current.history.length>0?i.value.current.history[d-1]:void 0;c.state.lastMove=g?[g.from,g.to]:void 0,(v=a.movable)!=null&&v.free||(c.state.movable.dests=i.value.viewing.legalMoves,i.value.viewing.ply!==i.value.current.ply&&i.value.current.playerColor!==void 0?c.state.movable.color=void 0:c.state.movable.color=i.value.current.playerColor||i.value.viewing.turnColor),i.value.viewing.ply===i.value.current.ply?nextTick(c.playPremove):c.cancelPremove()};watch(()=>i.value.viewing.fen,u,{immediate:!0}),watch(()=>i.value.viewing.promotionDialog.isEnabled,()=>{i.value.viewing.promotionDialog.isEnabled||u()}),watch(()=>i.value.viewing.orientation,()=>{c.state.orientation=i.value.viewing.orientation,c.state.animation.current=c.state.draggable.current=c.state.selected=void 0,c.redrawAll()}),watch(()=>i.value.viewing.autoShapes,()=>c.setAutoShapes(i.value.viewing.autoShapes)),watch(()=>i.value.current.playerColor,()=>{i.value.viewing.ply!==i.value.current.ply&&i.value.current.playerColor!==void 0?c.state.movable.color=void 0:c.state.movable.color=i.value.current.playerColor||i.value.viewing.turnColor})}),(l,a)=>(openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("div",{ref_key:"board",ref:t,id:"board",style:normalizeStyle({filter:unref(i).viewing.ply!==unref(i).current.ply&&unref(i).current.playerColor?"saturate(60%)":"none"})},null,4),withDirectives(createBaseVNode("div",{ref_key:"promotion",ref:n,id:"promotion-choice",onClick:a[0]||(a[0]=(...c)=>unref(r).promotionCanceled&&unref(r).promotionCanceled(...c))},[unref(i).viewing.promotionDialog.isEnabled?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(unref(promotions),(c,u)=>(openBlock(),createElementBlock("button",{key:c.name,type:"button",class:normalizeClass([c.name.toLowerCase(),unref(i).viewing.promotionDialog.color]),style:normalizeStyle(s(u,unref(i).viewing.promotionDialog.square,unref(i).viewing.orientation)),"aria-label":c.name,onClick:d=>unref(r).promotionSelected(c.value),onTouchstartPassive:d=>unref(r).promotionSelected(c.value)},null,46,_hoisted_2$e))),128)):createCommentVNode("",!0)],512),[[vShow,unref(i).viewing.promotionDialog.isEnabled]])]))}}),_hoisted_1$e={key:0},_hoisted_2$d=["onClick"],_hoisted_3$d=["onClick"],_sfc_main$e=defineComponent({__name:"HistoryViewer",props:{state:{},api:{}},setup(e){const t=e,{api:n,state:o}=toRefs(t),r=computed(()=>{const s=o.value.current.history,l=o.value.start.ply,a=[];l%2===1&&s.length>0&&a.push({moveNumber:Math.floor(l/2)+1,white:void 0,black:{move:s[0],plyAfter:l+1}});for(let c=l%2;c<s.length;c+=2){const u=Math.floor((c+l)/2)+1;a.push({moveNumber:u,white:s[c]?{move:s[c],plyAfter:c+l+1}:void 0,black:s[c+1]?{move:s[c+1],plyAfter:c+l+2}:void 0})}return a}),i=ref();return watch(()=>o.value.viewing.ply,()=>{var b;if(!i.value)return;const s=Math.floor((o.value.viewing.ply-1+o.value.start.ply)/2);s===-1&&i.value.scroll({behavior:"smooth",top:0});const l=(b=i.value)==null?void 0:b.children[s];if(!l)return;const a=l.getBoundingClientRect(),c=i.value.getBoundingClientRect(),u=a.top<c.top&&(a.bottom<=c.top||a.bottom>=c.top),d=a.left<c.left&&(a.right<=c.left||a.right>=c.left),g=a.bottom>c.bottom&&(a.top>=c.bottom||a.top<=c.bottom),v=a.right>c.right&&(a.left>=c.right||a.left<=c.right);u||d?l.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}):(g||v)&&l.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),(s,l)=>(openBlock(),createElementBlock("div",{ref_key:"moves",ref:i,class:"flex content-start gap-2"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,(a,c)=>(openBlock(),createElementBlock("div",{key:a.moveNumber,class:"select-none flex gap-1 items-baseline"},[createBaseVNode("span",null,toDisplayString(a.moveNumber)+".",1),c===0&&a.white===void 0?(openBlock(),createElementBlock("span",_hoisted_1$e,"...")):createCommentVNode("",!0),a.white?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(["badge badge-neutral rounded-[0.2rem] py-[0.1rem] px-[0.2rem] cursor-pointer",{"badge-primary":a.white.plyAfter===unref(o).viewing.ply}]),onClick:u=>unref(n).viewGamePly(a.white.plyAfter)},toDisplayString(a.white.move.san),11,_hoisted_2$d)):createCommentVNode("",!0),a.black?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass(["badge badge-neutral rounded-[0.2rem] py-[0.1rem] px-[0.2rem] cursor-pointer",{"badge-primary":a.black.plyAfter===unref(o).viewing.ply}]),onClick:u=>unref(n).viewGamePly(a.black.plyAfter)},toDisplayString(a.black.move.san),11,_hoisted_3$d)):createCommentVNode("",!0)]))),128))],512))}}),_hoisted_1$d={class:"modal-box"},_hoisted_2$c=createBaseVNode("h3",{class:"font-bold text-lg"},"Load PGN",-1),_hoisted_3$c={class:"form-control"},_hoisted_4$5=createBaseVNode("div",{class:"label"},[createBaseVNode("span",{class:"label-text"},"Portable Game Notation")],-1),_hoisted_5$4={class:"modal-action"},_hoisted_6$2={method:"dialog",class:"flex gap-2"},_hoisted_7$2=createBaseVNode("form",{method:"dialog",class:"modal-backdrop"},[createBaseVNode("button",null,"close")],-1),_sfc_main$d=defineComponent({__name:"LoadPgnModal",emits:["load"],setup(e,{expose:t,emit:n}){const o=n,r=ref(""),i=ref();return t({show:()=>{i.value&&(i.value.showModal(),i.value.style.visibility="visible")}}),(l,a)=>(openBlock(),createElementBlock("dialog",{ref_key:"dialog",ref:i,class:"modal invisible",onTransitionend:a[3]||(a[3]=()=>{i.value&&(i.value.style.visibility=i.value.open?"visible":"hidden")})},[createBaseVNode("div",_hoisted_1$d,[_hoisted_2$c,createBaseVNode("label",_hoisted_3$c,[_hoisted_4$5,withDirectives(createBaseVNode("textarea",{type:"text",class:"textarea leading-snug textarea-bordered",rows:"10","onUpdate:modelValue":a[0]||(a[0]=c=>r.value=c)},null,512),[[vModelText,r.value]])]),createBaseVNode("div",_hoisted_5$4,[createBaseVNode("form",_hoisted_6$2,[createBaseVNode("button",{class:"btn btn-primary",onClick:a[1]||(a[1]=()=>{o("load",r.value),r.value=""})}," Load "),createBaseVNode("button",{class:"btn btn-ghost",onClick:a[2]||(a[2]=c=>r.value="")},"Close")])])]),_hoisted_7$2],544))}});function tryOnScopeDispose(e){return getCurrentScope()?(onScopeDispose(e),!0):!1}function toValue(e){return typeof e=="function"?e():unref(e)}const isClient=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const toString$1=Object.prototype.toString,isObject=e=>toString$1.call(e)==="[object Object]",noop=()=>{};function createSingletonPromise(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const o=t;t=void 0,o&&await o},n}function useTimeoutFn(e,t,n={}){const{immediate:o=!0}=n,r=ref(!1);let i=null;function s(){i&&(clearTimeout(i),i=null)}function l(){r.value=!1,s()}function a(...c){s(),r.value=!0,i=setTimeout(()=>{r.value=!1,i=null,e(...c)},toValue(t))}return o&&(r.value=!0,isClient&&a()),tryOnScopeDispose(l),{isPending:readonly(r),start:a,stop:l}}function unrefElement(e){var t;const n=toValue(e);return(t=n==null?void 0:n.$el)!=null?t:n}const defaultWindow=isClient?window:void 0,defaultNavigator=isClient?window.navigator:void 0;function useEventListener(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=defaultWindow):[t,n,o,r]=e,!t)return noop;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],s=()=>{i.forEach(u=>u()),i.length=0},l=(u,d,g,v)=>(u.addEventListener(d,g,v),()=>u.removeEventListener(d,g,v)),a=watch(()=>[unrefElement(t),toValue(r)],([u,d])=>{if(s(),!u)return;const g=isObject(d)?{...d}:d;i.push(...n.flatMap(v=>o.map(b=>l(u,v,b,g))))},{immediate:!0,flush:"post"}),c=()=>{a(),s()};return tryOnScopeDispose(c),c}function createKeyPredicate(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function onKeyStroke(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=defaultWindow,eventName:i="keydown",passive:s=!1,dedupe:l=!1}=o,a=createKeyPredicate(t);return useEventListener(r,i,u=>{u.repeat&&toValue(l)||a(u)&&n(u)},s)}function useMounted(){const e=ref(!1),t=getCurrentInstance();return t&&onMounted(()=>{e.value=!0},t),e}function useSupported(e){const t=useMounted();return computed(()=>(t.value,!!e()))}function usePermission(e,t={}){const{controls:n=!1,navigator:o=defaultNavigator}=t,r=useSupported(()=>o&&"permissions"in o);let i;const s=typeof e=="string"?{name:e}:e,l=ref(),a=()=>{i&&(l.value=i.state)},c=createSingletonPromise(async()=>{if(r.value){if(!i)try{i=await o.permissions.query(s),useEventListener(i,"change",a),a()}catch{l.value="prompt"}return i}});return c(),n?{state:l,isSupported:r,query:c}:l}function useClipboard(e={}){const{navigator:t=defaultNavigator,read:n=!1,source:o,copiedDuring:r=1500,legacy:i=!1}=e,s=useSupported(()=>t&&"clipboard"in t),l=usePermission("clipboard-read"),a=usePermission("clipboard-write"),c=computed(()=>s.value||i),u=ref(""),d=ref(!1),g=useTimeoutFn(()=>d.value=!1,r);function v(){s.value&&T(l.value)?t.clipboard.readText().then(R=>{u.value=R}):u.value=P()}c.value&&n&&useEventListener(["copy","cut"],v);async function b(R=toValue(o)){c.value&&R!=null&&(s.value&&T(a.value)?await t.clipboard.writeText(R):m(R),u.value=R,d.value=!0,g.start())}function m(R){const C=document.createElement("textarea");C.value=R??"",C.style.position="absolute",C.style.opacity="0",document.body.appendChild(C),C.select(),document.execCommand("copy"),C.remove()}function P(){var R,C,F;return(F=(C=(R=document==null?void 0:document.getSelection)==null?void 0:R.call(document))==null?void 0:C.toString())!=null?F:""}function T(R){return R==="granted"||R==="prompt"}return{isSupported:c,text:u,copied:d,copy:b}}function render$9(e,t){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"})])}function render$8(e,t){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 0 0 3.7 3.7 48.656 48.656 0 0 0 7.324 0 4.006 4.006 0 0 0 3.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3-3 3"})])}function render$7(e,t){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m18.75 4.5-7.5 7.5 7.5 7.5m-6-15L5.25 12l7.5 7.5"})])}function render$6(e,t){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})])}function render$5(e,t){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function render$4(e,t){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function render$3(e,t){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"})])}function render$2(e,t){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})])}function render$1(e,t){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}function render(e,t){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"})])}const _hoisted_1$c={class:"modal-box"},_hoisted_2$b=createBaseVNode("h3",{class:"font-bold text-lg"},"Share game",-1),_hoisted_3$b={class:"flex flex-col"},_hoisted_4$4={class:"flex justify-between"},_hoisted_5$3=createBaseVNode("label",{for:"fen",class:"label"},[createBaseVNode("span",{class:"label-text"},"FEN")],-1),_hoisted_6$1={key:0,class:"text-xs"},_hoisted_7$1={key:1,class:"text-xs"},_hoisted_8$1=["value"],_hoisted_9$1={class:"flex justify-between"},_hoisted_10$1=createBaseVNode("label",{for:"pgn",class:"label"},[createBaseVNode("span",{class:"label-text"},"PGN")],-1),_hoisted_11$1={key:0,class:"text-xs"},_hoisted_12$1={key:1,class:"text-xs"},_hoisted_13$1=["value"],_hoisted_14$1=createBaseVNode("div",{class:"modal-action"},[createBaseVNode("form",{method:"dialog",class:"flex gap-2"},[createBaseVNode("button",{class:"btn btn-ghost"},"Close")])],-1),_hoisted_15$1=createBaseVNode("form",{method:"dialog",class:"modal-backdrop"},[createBaseVNode("button",null,"close")],-1),_sfc_main$c=defineComponent({__name:"ShareGameModal",props:{pgn:{},fen:{}},setup(e,{expose:t}){const n=e,{pgn:o,fen:r}=toRefs(n),i=ref();t({show:()=>{i.value&&(i.value.showModal(),i.value.style.visibility="visible")}});const{copy:l,copied:a,isSupported:c}=useClipboard({source:o}),{copy:u,copied:d,isSupported:g}=useClipboard({source:r});return(v,b)=>(openBlock(),createElementBlock("dialog",{ref_key:"dialog",ref:i,class:"modal invisible",onTransitionend:b[2]||(b[2]=()=>{i.value&&(i.value.style.visibility=i.value.open?"visible":"hidden")})},[createBaseVNode("div",_hoisted_1$c,[_hoisted_2$b,createBaseVNode("div",_hoisted_3$b,[createBaseVNode("div",_hoisted_4$4,[_hoisted_5$3,unref(g)?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:b[0]||(b[0]=m=>unref(u)(unref(r)))},[unref(d)?(openBlock(),createElementBlock("span",_hoisted_7$1,"Copied!")):(openBlock(),createElementBlock("span",_hoisted_6$1,"Copy")),createVNode(unref(render$2),{class:"inline size-4"})])):createCommentVNode("",!0)]),createBaseVNode("input",{id:"fen",type:"text",class:"input px-3 text-sm leading-snug input-bordered",value:unref(r),readonly:""},null,8,_hoisted_8$1),createBaseVNode("div",_hoisted_9$1,[_hoisted_10$1,unref(c)?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:b[1]||(b[1]=m=>unref(l)(unref(o)))},[unref(a)?(openBlock(),createElementBlock("span",_hoisted_12$1,[createTextVNode("Copied! "),createVNode(unref(render$3),{class:"inline size-4"})])):(openBlock(),createElementBlock("span",_hoisted_11$1,[createTextVNode("Copy "),createVNode(unref(render$2),{class:"inline size-4"})]))])):createCommentVNode("",!0)]),createBaseVNode("textarea",{id:"pgn",type:"text",class:"textarea px-3 text-sm leading-snug textarea-bordered",rows:"10",value:unref(o),readonly:""},null,8,_hoisted_13$1)]),_hoisted_14$1]),_hoisted_15$1],544))}}),_hoisted_1$b={class:"flex gap-2 justify-between min-w-0"},_hoisted_2$a=["disabled"],_hoisted_3$a=["disabled"],_hoisted_4$3=["disabled"],_hoisted_5$2=["disabled"],_sfc_main$b=defineComponent({__name:"HistoryNavigator",props:{state:{},api:{}},setup(e){const t=e,{api:n,state:o}=toRefs(t);return(r,i)=>(openBlock(),createElementBlock("div",_hoisted_1$b,[createBaseVNode("button",{onClick:i[0]||(i[0]=s=>unref(n).viewStart()),class:"btn btn-neutral flex-1",disabled:unref(o).viewing.ply==unref(o).start.ply},[createVNode(unref(render$7),{class:"size-8"})],8,_hoisted_2$a),createBaseVNode("button",{onClick:i[1]||(i[1]=s=>unref(n).viewPrevious()),class:"btn btn-neutral flex-1",disabled:unref(o).viewing.ply==unref(o).start.ply},[createVNode(unref(render$5),{class:"size-8"})],8,_hoisted_3$a),createBaseVNode("button",{onClick:i[2]||(i[2]=s=>unref(n).viewNext()),class:"btn btn-neutral flex-1",disabled:unref(o).viewing.ply==unref(o).current.ply},[createVNode(unref(render$4),{class:"size-8"})],8,_hoisted_4$3),createBaseVNode("button",{onClick:i[3]||(i[3]=s=>unref(n).viewCurrent()),class:"btn btn-neutral flex-1",disabled:unref(o).viewing.ply==unref(o).current.ply},[createVNode(unref(render$6),{class:"size-8"})],8,_hoisted_5$2)]))}}),_export_sfc=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},_sfc_main$a={},_hoisted_1$a={xmlns:"http://www.w3.org/2000/svg",width:"10mm",height:"10mm",viewBox:"0 0 10 10"},_hoisted_2$9=createBaseVNode("g",{style:{fill:"#fff","fill-opacity":"1"}},[createBaseVNode("g",{style:{fill:"currentColor","fill-opacity":"1","stroke-width":"0.09651081","stroke-miterlimit":"4","stroke-dasharray":"none"}},[createBaseVNode("path",{d:"M6.542 294.178c1.078 0 1.125.858 1.125 1.495H2.069c0-.65.046-1.495 1.124-1.495z",style:{fill:"currentColor","fill-opacity":"1",stroke:"#8c8c8c","stroke-width":"0.38604325","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"},transform:"matrix(1.07361 0 0 1 -.233 -286.97)"}),createBaseVNode("path",{d:"M15.014 3.873a3.016 3.016 0 0 0-3.018 3.016 3.016 3.016 0 0 0 1.91 2.804l-.373 8.116-3.984-6.524a3.016 3.016 0 0 0 .53-1.709 3.016 3.016 0 0 0-3.017-3.015 3.016 3.016 0 0 0-3.015 3.015 3.016 3.016 0 0 0 2.504 2.97l4.773 14.69h15.147l4.76-14.6a3.016 3.016 0 0 0 2.595-2.982 3.016 3.016 0 0 0-3.015-3.015 3.016 3.016 0 0 0-3.016 3.015 3.016 3.016 0 0 0 .455 1.584l-4.072 6.57-.319-8.128a3.016 3.016 0 0 0 1.875-2.791 3.016 3.016 0 0 0-3.015-3.016 3.016 3.016 0 0 0-3.016 3.016 3.016 3.016 0 0 0 .854 2.103l-1.702 8.817-1.625-8.88a3.016 3.016 0 0 0 .8-2.04 3.016 3.016 0 0 0-3.016-3.016z",style:{fill:"currentColor","fill-opacity":"1",stroke:"#8c8c8c","stroke-width":"1.51181102","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1","stroke-miterlimit":"4","stroke-dasharray":"none"},transform:"matrix(.26458 0 0 .26458 0 0)"})])],-1),_hoisted_3$9=[_hoisted_2$9];function _sfc_render$6(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$a,_hoisted_3$9)}const IconQueen=_export_sfc(_sfc_main$a,[["render",_sfc_render$6]]),_sfc_main$9={},_hoisted_1$9={xmlns:"http://www.w3.org/2000/svg",width:"10mm",height:"10mm",viewBox:"0 0 10 10"},_hoisted_2$8=createStaticVNode('<g style="fill:#fff;fill-opacity:1;"><g style="fill:currentColor;fill-opacity:1;stroke-width:0.09651081;stroke-miterlimit:4;stroke-dasharray:none;"><path d="M6.542 294.178c1.078 0 1.125.858 1.125 1.495H2.069c0-.65.046-1.495 1.124-1.495z" style="fill:currentColor;fill-opacity:1;stroke:#8c8c8c;stroke-width:0.38604325;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;" transform="matrix(1.07361 0 0 1 -.233 -286.97)"></path><path d="m6.74 294.177-.567-3.253H3.569l-.561 3.253z" style="fill:currentColor;fill-opacity:1;stroke:#8c8c8c;stroke-width:0.38604325;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none;" transform="matrix(1.07361 0 0 1 -.233 -286.97)"></path><path d="m6.66 289.342-.8-.222-.173.439-.328-.002v-.624l-1.002.017v.607h-.292l-.21-.436-.784.307s-.008 1.53.404 1.521h2.781c.412 0 .404-1.606.404-1.606z" style="fill:currentColor;fill-opacity:1;stroke:#8c8c8c;stroke-width:0.38604325;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none;" transform="matrix(1.07361 0 0 1 -.233 -286.97)"></path></g></g>',1),_hoisted_3$8=[_hoisted_2$8];function _sfc_render$5(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$9,_hoisted_3$8)}const IconRook=_export_sfc(_sfc_main$9,[["render",_sfc_render$5]]),_sfc_main$8={},_hoisted_1$8={xmlns:"http://www.w3.org/2000/svg",width:"10mm",height:"10mm",viewBox:"0 0 10 10"},_hoisted_2$7=createBaseVNode("g",{style:{fill:"#fff","fill-opacity":"1"}},[createBaseVNode("g",{style:{fill:"currentColor","fill-opacity":"1","stroke-width":"0.09651081","stroke-miterlimit":"4","stroke-dasharray":"none"}},[createBaseVNode("path",{d:"M6.542 294.178c1.078 0 1.125.858 1.125 1.495H2.069c0-.65.046-1.495 1.124-1.495z",style:{fill:"currentColor","fill-opacity":"1",stroke:"#8c8c8c","stroke-width":"0.38604325","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"},transform:"matrix(1.07361 0 0 1 -.233 -286.97)"}),createBaseVNode("path",{d:"M6.552 293.804c.202-.274 1.198-2.07-.75-3.903 0 0-.783 1.02-.913 2.526h-.477c-.009-1.383 1.01-2.815 1.01-2.815.82-1.555-1.874-1.56-1.13 0-2.275 1.882-1.262 3.953-1.095 4.192z",style:{fill:"currentColor","fill-opacity":"1",stroke:"#8c8c8c","stroke-width":"0.37369174","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"},transform:"matrix(1.07361 0 0 1 -.233 -286.97)"})])],-1),_hoisted_3$7=[_hoisted_2$7];function _sfc_render$4(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$8,_hoisted_3$7)}const IconBishop=_export_sfc(_sfc_main$8,[["render",_sfc_render$4]]),_sfc_main$7={},_hoisted_1$7={xmlns:"http://www.w3.org/2000/svg",width:"10mm",height:"10mm",viewBox:"0 0 10 10"},_hoisted_2$6=createBaseVNode("g",{style:{fill:"#fff","fill-opacity":"1"}},[createBaseVNode("g",{style:{fill:"#fff","fill-opacity":"1","stroke-width":"0.09651081","stroke-miterlimit":"4","stroke-dasharray":"none"}},[createBaseVNode("path",{d:"M18.875 10.234a3.938 3.938 0 0 0-3.938 3.938 3.938 3.938 0 0 0 1.27 2.889l-2.234.959v2.33l2.643-.008c-1.555 10.05-6.007 6.96-6.007 12.527h16.657c0-5.646-4.56-2.232-6.124-12.53l2.64-.04v-2.315l-2.21-.945a3.938 3.938 0 0 0 1.242-2.867 3.938 3.938 0 0 0-3.939-3.938z",style:{fill:"currentColor","fill-opacity":"1",stroke:"#8c8c8c","stroke-width":"1.51181102","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"},transform:"matrix(.26458 0 0 .26458 0 0)"})])],-1),_hoisted_3$6=[_hoisted_2$6];function _sfc_render$3(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$7,_hoisted_3$6)}const IconPawn=_export_sfc(_sfc_main$7,[["render",_sfc_render$3]]),_sfc_main$6={},_hoisted_1$6={xmlns:"http://www.w3.org/2000/svg",width:"10mm",height:"10mm",viewBox:"0 0 10 10"},_hoisted_2$5=createBaseVNode("g",{style:{fill:"#fff","fill-opacity":"1"}},[createBaseVNode("g",{style:{fill:"#fff","fill-opacity":"1","stroke-width":"0.09651081","stroke-miterlimit":"4","stroke-dasharray":"none"}},[createBaseVNode("path",{d:"M6.545 294.15H3.201c.046-1.268 1.457-1.942 1.521-2.553.065-.612-.223-.77-.223-.77s-.197.736-.448.886c-.251.15-.836.291-.836.291s-.41.37-.651.344c-.242-.025-.449-.603-.449-.603l.82-1.306.417-.926.392-.428.168-.628.473.552c2.601 0 3.165 3.352 2.16 5.14zM6.542 294.178c1.078 0 1.125.858 1.125 1.495H2.069c0-.65.046-1.495 1.124-1.495z",style:{fill:"currentColor","fill-opacity":"1",stroke:"#8c8c8c","stroke-width":"0.38604324","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"},transform:"matrix(1.07361 0 0 1 -.233 -286.97)"})])],-1),_hoisted_3$5=[_hoisted_2$5];function _sfc_render$2(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$6,_hoisted_3$5)}const IconKnight=_export_sfc(_sfc_main$6,[["render",_sfc_render$2]]),_sfc_main$5={},_hoisted_1$5={xmlns:"http://www.w3.org/2000/svg",width:"10mm",height:"10mm",viewBox:"0 0 10 10"},_hoisted_2$4=createBaseVNode("g",{style:{fill:"#fff","fill-opacity":"1"}},[createBaseVNode("g",{style:{fill:"#fff","fill-opacity":"1","stroke-width":"0.09651081","stroke-miterlimit":"4","stroke-dasharray":"none"}},[createBaseVNode("path",{d:"M6.542 294.178c1.078 0 1.125.858 1.125 1.495H2.069c0-.65.046-1.495 1.124-1.495z",style:{fill:"currentColor","fill-opacity":"1",stroke:"#8c8c8c","stroke-width":"0.38604325","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"},transform:"matrix(1.07361 0 0 1 -.233 -286.97)"}),createBaseVNode("path",{d:"M4.48 288.116v.484h-.537v.753h.537c0 .582-.142.476-.533.717-2.418-.972-3.734 2.055-.939 4.107l3.715-.014c2.848-2.038 1.504-5.064-.913-4.077-.46-.253-.545-.111-.545-.733h.548v-.753h-.548v-.484zm1.929 3.058c.644.065.894.873-.79 2.028v-1.617c.312-.315.497-.44.79-.41zm-2.962.008c.272.01.402.139.675.415v1.616c-1.683-1.154-1.433-1.962-.789-2.027a.85.85 0 0 1 .114-.004z",style:{fill:"currentColor","fill-opacity":"1",stroke:"#8c8c8c","stroke-width":"0.37229237","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"},transform:"matrix(1.07361 0 0 1 -.233 -286.97)"})])],-1),_hoisted_3$4=[_hoisted_2$4];function _sfc_render$1(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$5,_hoisted_3$4)}const IconKing=_export_sfc(_sfc_main$5,[["render",_sfc_render$1]]),_hoisted_1$4={class:"grid grid-rows-2"},_hoisted_2$3={key:0},_hoisted_3$3={key:1},_hoisted_4$2={key:2},_sfc_main$4=defineComponent({__name:"PlayerInfo",props:{state:{}},setup(e){const t=e,{state:n}=toRefs(t),o=s=>s>0?"white":s<0?"black":void 0,r=s=>{switch(s){case"pawn":return IconPawn;case"rook":return IconRook;case"bishop":return IconBishop;case"knight":return IconKnight;case"queen":return IconQueen;case"king":return IconKing}},i=computed(()=>n.value.viewing.orientation==="white"?["black","white"]:["white","black"]);return(s,l)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value,a=>(openBlock(),createElementBlock("div",{key:a,class:"flex items-center"},[a===unref(n).current.playerColor?(openBlock(),createElementBlock("span",_hoisted_2$3,"You")):createCommentVNode("",!0),unref(opposite)(a)===unref(n).current.playerColor?(openBlock(),createElementBlock("span",_hoisted_3$3,"Computer")):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).viewing.materialInfo.count.diff,(c,u)=>(openBlock(),createElementBlock(Fragment,{key:u},[a===o(c)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass({"-space-x-3":u!=="queen"})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Math.abs(c),d=>(openBlock(),createBlock(resolveDynamicComponent(r(u)),{key:d,class:normalizeClass(["inline-block size-5",`text-${unref(opposite)(a)}`])},null,8,["class"]))),128))],2)):createCommentVNode("",!0)],64))),128)),a===o(unref(n).viewing.materialInfo.value.diff)?(openBlock(),createElementBlock("span",_hoisted_4$2," +"+toDisplayString(Math.abs(unref(n).viewing.materialInfo.value.diff)),1)):createCommentVNode("",!0)]))),128))]))}}),_hoisted_1$3=createBaseVNode("form",{method:"dialog",class:"modal-backdrop"},[createBaseVNode("button",null,"close")],-1),_sfc_main$3=defineComponent({__name:"BaseModal",setup(e,{expose:t}){const n=ref();return t({show:()=>{n.value&&(n.value.showModal(),n.value.style.visibility="visible")}}),(r,i)=>(openBlock(),createElementBlock("dialog",{ref_key:"dialog",ref:n,class:"modal invisible",onTransitionend:i[0]||(i[0]=()=>{n.value&&(n.value.style.visibility=n.value.open?"visible":"hidden")})},[renderSlot(r.$slots,"default"),_hoisted_1$3],544))}}),_hoisted_1$2={class:"modal-box w-[20em]"},_hoisted_2$2=createBaseVNode("h3",{class:"text-xl text-center font-bold"},"Game Ended",-1),_hoisted_3$2=createBaseVNode("div",{class:"divider"},null,-1),_hoisted_4$1={class:"text-2xl font-extrabold text-center"},_hoisted_5$1={class:"text-lg text-center"},_sfc_main$2=defineComponent({__name:"GameResultModal",props:{gameResult:{}},setup(e,{expose:t}){const n=ref();t({show:()=>{n.value&&n.value.show()}});const r=i=>{if(i.result==="blackWon")return"Black won!";if(i.result==="whiteWon")return"White won!";if(i.result==="draw")return"Draw"};return(i,s)=>(openBlock(),createBlock(_sfc_main$3,{ref_key:"modal",ref:n},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$2,[_hoisted_2$2,_hoisted_3$2,i.gameResult?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_4$1,toDisplayString(r(i.gameResult)),1),createBaseVNode("div",_hoisted_5$1,"by "+toDisplayString(i.gameResult.reason),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(" Error: game result is unknown ")],64))])]),_:1},512))}}),_sfc_main$1={},_hoisted_1$1={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 48 48"},_hoisted_2$1=createBaseVNode("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"},[createBaseVNode("path",{d:"M21.417 18.583a6 6 0 1 0 8 8"}),createBaseVNode("path",{d:"M28.28 11.72C26.94 11.255 25.5 11 24 11c-7.18 0-13 5.82-13 13s5.82 13 13 13s13-5.82 13-13c0-1.5-.254-2.94-.72-4.28"}),createBaseVNode("path",{d:"M33.568 6.433A19.911 19.911 0 0 0 24 4C12.954 4 4 12.954 4 24s8.954 20 20 20s20-8.954 20-20a19.92 19.92 0 0 0-2.432-9.567M44 4L24 24"})],-1),_hoisted_3$1=[_hoisted_2$1];function _sfc_render(e,t){return openBlock(),createElementBlock("svg",_hoisted_1$1,_hoisted_3$1)}const IconParkOutlineTarget=_export_sfc(_sfc_main$1,[["render",_sfc_render]]);class Protocol{constructor(){U(this,"search");U(this,"currentEvaluation");U(this,"nextSearch");U(this,"send")}connect(t){this.send=t,this.send("uci")}disconnect(){this.search&&this.currentEvaluation&&this.search.emitCurrentMove(this.currentEvaluation),this.search=void 0,this.send=void 0}receive(t){var i,s;const n=t.trim().split(/\s+/g),[o,...r]=n;if(o==="uciok")this.setOption("UCI_AnalyseMode","true"),this.setOption("Analysis Contempt","Off"),(i=this.send)==null||i.call(this,"ucinewgame"),(s=this.send)==null||s.call(this,"isready");else if(o==="readyok")this.swapSearch();else if(o==="bestmove"){this.search&&this.currentEvaluation&&this.search.emitBestMove(this.currentEvaluation),this.search=void 0,this.swapSearch();return}else if(o==="info"&&this.search&&!this.search.shouldStop){let l=0,a=!1,c,u,d=[];for(let v=0;v<r.length;v++)switch(r[v]){case"depth":l=parseInt(r[++v]);break;case"time":u=parseInt(r[++v]);break;case"score":a=r[++v]==="mate",c=parseInt(r[++v]);break;case"pv":d=r.slice(++v),v=r.length;break}if(a&&!c){this.currentEvaluation&&this.search.emitBestMove(this.currentEvaluation),this.search=void 0;return}if(c===void 0)return;const g=this.search.ply%2===1?-c:c;this.currentEvaluation={depth:l,fen:this.search.currentFen,type:a?"mate":"cp",value:g,pv:d.map(parseUCIMove)},this.search.emitCurrentMove(this.currentEvaluation),u&&this.search.searchMs&&u>=this.search.searchMs&&this.stop()}}performSearch(t){this.nextSearch=t,this.stop(),this.swapSearch()}stop(){var t;this.search&&!this.search.shouldStop&&(this.search.shouldStop=!0,(t=this.send)==null||t.call(this,"stop"))}swapSearch(){!this.send||this.search||(this.search=this.nextSearch,this.nextSearch=void 0,this.search&&(this.currentEvaluation=void 0,this.send(`position fen ${this.search.startPos} moves ${this.search.moves.join(" ")}`),this.search.searchMs?this.send(`go movetime ${this.search.searchMs}`):this.send("go infinite")))}setOption(t,n){var o;(o=this.send)==null||o.call(this,`setoption name ${t} value ${n.toString()}`)}}let wasm;function addToExternrefTable0(e){const t=wasm.__externref_table_alloc();return wasm.__wbindgen_export_2.set(t,e),t}function handleError(e,t){try{return e.apply(this,t)}catch(n){const o=addToExternrefTable0(n);wasm.__wbindgen_exn_store(o)}}let WASM_VECTOR_LEN=0,cachedUint8ArrayMemory0=null;function getUint8ArrayMemory0(){return(cachedUint8ArrayMemory0===null||cachedUint8ArrayMemory0.buffer!==wasm.memory.buffer)&&(cachedUint8ArrayMemory0=new Uint8Array(wasm.memory.buffer)),cachedUint8ArrayMemory0}const cachedTextEncoder=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},encodeString=function(e,t){const n=cachedTextEncoder.encode(e);return t.set(n),{read:e.length,written:n.length}};function passStringToWasm0(e,t,n){if(n===void 0){const l=cachedTextEncoder.encode(e),a=t(l.length,1)>>>0;return getUint8ArrayMemory0().subarray(a,a+l.length).set(l),WASM_VECTOR_LEN=l.length,a}let o=e.length,r=t(o,1)>>>0;const i=getUint8ArrayMemory0();let s=0;for(;s<o;s++){const l=e.charCodeAt(s);if(l>127)break;i[r+s]=l}if(s!==o){s!==0&&(e=e.slice(s)),r=n(r,o,o=s+e.length*3,1)>>>0;const l=getUint8ArrayMemory0().subarray(r+s,r+o),a=encodeString(e,l);s+=a.written,r=n(r,o,s,1)>>>0}return WASM_VECTOR_LEN=s,r}let cachedDataViewMemory0=null;function getDataViewMemory0(){return(cachedDataViewMemory0===null||cachedDataViewMemory0.buffer!==wasm.memory.buffer)&&(cachedDataViewMemory0=new DataView(wasm.memory.buffer)),cachedDataViewMemory0}const cachedTextDecoder=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&cachedTextDecoder.decode();function getStringFromWasm0(e,t){return e=e>>>0,cachedTextDecoder.decode(getUint8ArrayMemory0().slice(e,e+t))}function isLikeNone(e){return e==null}const CLOSURE_DTORS=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{wasm.__wbindgen_export_7.get(e.dtor)(e.a,e.b)});function makeClosure(e,t,n,o){const r={a:e,b:t,cnt:1,dtor:n},i=(...s)=>{r.cnt++;try{return o(r.a,r.b,...s)}finally{--r.cnt===0&&(wasm.__wbindgen_export_7.get(r.dtor)(r.a,r.b),r.a=0,CLOSURE_DTORS.unregister(r))}};return i.original=r,CLOSURE_DTORS.register(i,r,r),i}function debugString(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const r=e.description;return r==null?"Symbol":`Symbol(${r})`}if(t=="function"){const r=e.name;return typeof r=="string"&&r.length>0?`Function(${r})`:"Function"}if(Array.isArray(e)){const r=e.length;let i="[";r>0&&(i+=debugString(e[0]));for(let s=1;s<r;s++)i+=", "+debugString(e[s]);return i+="]",i}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let o;if(n&&n.length>1)o=n[1];else return toString.call(e);if(o=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:o}function __wbg_adapter_26(e,t,n){wasm.closure28_externref_shim(e,t,n)}const __wbindgen_enum_WorkerType=["classic","module"],EngineFinalization=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>wasm.__wbg_engine_free(e>>>0,1));class Engine{static __wrap(t){t=t>>>0;const n=Object.create(Engine.prototype);return n.__wbg_ptr=t,EngineFinalization.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,EngineFinalization.unregister(this),t}free(){const t=this.__destroy_into_raw();wasm.__wbg_engine_free(t,0)}static new(){const t=wasm.engine_new();return Engine.__wrap(t)}send_command(t){const n=passStringToWasm0(t,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),o=WASM_VECTOR_LEN;wasm.engine_send_command(this.__wbg_ptr,n,o)}set_callback(t){wasm.engine_set_callback(this.__wbg_ptr,t)}}async function __wbg_load(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(o){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function __wbg_get_imports(){const imports={};return imports.wbg={},imports.wbg.__wbg_call_672a4d21634d4a24=function(){return handleError(function(e,t){return e.call(t)},arguments)},imports.wbg.__wbg_call_7cccdd69e0791ae2=function(){return handleError(function(e,t,n){return e.call(t,n)},arguments)},imports.wbg.__wbg_createObjectURL_6e98d2f9c7bd9764=function(){return handleError(function(e,t){const n=URL.createObjectURL(t),o=passStringToWasm0(n,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),r=WASM_VECTOR_LEN;getDataViewMemory0().setInt32(e+4*1,r,!0),getDataViewMemory0().setInt32(e+4*0,o,!0)},arguments)},imports.wbg.__wbg_data_432d9c3df2630942=function(e){return e.data},imports.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,t){let n,o;try{n=e,o=t,console.error(getStringFromWasm0(e,t))}finally{wasm.__wbindgen_free(n,o,1)}},imports.wbg.__wbg_eval_e10dc02e9547f640=function(){return handleError(function(arg0,arg1){const ret=eval(getStringFromWasm0(arg0,arg1));return ret},arguments)},imports.wbg.__wbg_log_c222819a41e063d3=function(e){console.log(e)},imports.wbg.__wbg_new_405e22f390576ce2=function(){return new Object},imports.wbg.__wbg_new_78feb108b6472713=function(){return new Array},imports.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},imports.wbg.__wbg_newnoargs_105ed471475aaf50=function(e,t){return new Function(getStringFromWasm0(e,t))},imports.wbg.__wbg_newwithoptions_0419cac3977d7f7f=function(){return handleError(function(e,t,n){return new Worker(getStringFromWasm0(e,t),n)},arguments)},imports.wbg.__wbg_newwithstrsequence_a242b062eda81d0b=function(){return handleError(function(e){return new Blob(e)},arguments)},imports.wbg.__wbg_now_2c95c9de01293173=function(e){return e.now()},imports.wbg.__wbg_performance_7a3ffd0b17f663ad=function(e){return e.performance},imports.wbg.__wbg_postMessage_6edafa8f7b9c2f52=function(){return handleError(function(e,t){e.postMessage(t)},arguments)},imports.wbg.__wbg_postMessage_83a8d58d3fcb6c13=function(){return handleError(function(e,t){e.postMessage(t)},arguments)},imports.wbg.__wbg_push_737cfc8c1432c2c6=function(e,t){return e.push(t)},imports.wbg.__wbg_set_37837023f3d740e8=function(e,t,n){e[t>>>0]=n},imports.wbg.__wbg_setonerror_57eeef5feb01fe7a=function(e,t){e.onerror=t},imports.wbg.__wbg_setonmessage_5a885b16bdc6dca6=function(e,t){e.onmessage=t},imports.wbg.__wbg_settype_47fae7d6c82625e7=function(e,t){e.type=__wbindgen_enum_WorkerType[t]},imports.wbg.__wbg_size_3808d41635a9c259=function(e){return e.size},imports.wbg.__wbg_slice_8c197bf0b6dfc84a=function(){return handleError(function(e,t,n,o,r){return e.slice(t,n,getStringFromWasm0(o,r))},arguments)},imports.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,t){const n=t.stack,o=passStringToWasm0(n,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),r=WASM_VECTOR_LEN;getDataViewMemory0().setInt32(e+4*1,r,!0),getDataViewMemory0().setInt32(e+4*0,o,!0)},imports.wbg.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){const e=typeof global>"u"?null:global;return isLikeNone(e)?0:addToExternrefTable0(e)},imports.wbg.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){const e=typeof globalThis>"u"?null:globalThis;return isLikeNone(e)?0:addToExternrefTable0(e)},imports.wbg.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){const e=typeof self>"u"?null:self;return isLikeNone(e)?0:addToExternrefTable0(e)},imports.wbg.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){const e=typeof window>"u"?null:window;return isLikeNone(e)?0:addToExternrefTable0(e)},imports.wbg.__wbg_timeOrigin_9f29a08704a944d0=function(e){return e.timeOrigin},imports.wbg.__wbindgen_cb_drop=function(e){const t=e.original;return t.cnt--==1?(t.a=0,!0):!1},imports.wbg.__wbindgen_closure_wrapper145=function(e,t,n){return makeClosure(e,t,29,__wbg_adapter_26)},imports.wbg.__wbindgen_debug_string=function(e,t){const n=debugString(t),o=passStringToWasm0(n,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),r=WASM_VECTOR_LEN;getDataViewMemory0().setInt32(e+4*1,r,!0),getDataViewMemory0().setInt32(e+4*0,o,!0)},imports.wbg.__wbindgen_init_externref_table=function(){const e=wasm.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},imports.wbg.__wbindgen_is_undefined=function(e){return e===void 0},imports.wbg.__wbindgen_memory=function(){return wasm.memory},imports.wbg.__wbindgen_module=function(){return __wbg_init.__wbindgen_wasm_module},imports.wbg.__wbindgen_number_new=function(e){return e},imports.wbg.__wbindgen_string_get=function(e,t){const n=t,o=typeof n=="string"?n:void 0;var r=isLikeNone(o)?0:passStringToWasm0(o,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),i=WASM_VECTOR_LEN;getDataViewMemory0().setInt32(e+4*1,i,!0),getDataViewMemory0().setInt32(e+4*0,r,!0)},imports.wbg.__wbindgen_string_new=function(e,t){return getStringFromWasm0(e,t)},imports.wbg.__wbindgen_throw=function(e,t){throw new Error(getStringFromWasm0(e,t))},imports}function __wbg_init_memory(e,t){e.wbg.memory=t||new WebAssembly.Memory({initial:30,maximum:16384,shared:!0})}function __wbg_finalize_init(e,t,n){if(wasm=e.exports,__wbg_init.__wbindgen_wasm_module=t,cachedDataViewMemory0=null,cachedUint8ArrayMemory0=null,typeof n<"u"&&(typeof n!="number"||n===0||n%65536!==0))throw"invalid stack size";return wasm.__wbindgen_start(n),wasm}async function __wbg_init(e,t){if(wasm!==void 0)return wasm;let n;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e,memory:t,thread_stack_size:n}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof e>"u"&&(e=new URL("/chess-app/assets/wasm_bg-DGgZOs40.wasm",import.meta.url));const o=__wbg_get_imports();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e)),__wbg_init_memory(o,t);const{instance:r,module:i}=await __wbg_load(await e,o);return __wbg_finalize_init(r,i,n)}function parseUCIMove(e){const t=e.slice(0,2),n=e.slice(2,4),o=e.slice(4,5)||void 0;return{from:t,to:n,promotion:o}}class SimpleEngine{constructor(t,n){U(this,"scriptURL");U(this,"workerOptions");U(this,"worker",null);U(this,"protocol");this.scriptURL=t,this.workerOptions=n,this.protocol=new Protocol}start(t){this.protocol.performSearch(t),this.worker||(this.worker=new Worker(this.scriptURL,this.workerOptions),this.worker.addEventListener("error",n=>console.error(n)),this.worker.addEventListener("messageerror",n=>console.error(n)),this.worker.addEventListener("message",n=>{this.protocol.receive(n.data)},!0),this.protocol.connect(n=>{var o;(o=this.worker)==null||o.postMessage(n)}))}stop(){this.protocol.performSearch(void 0)}terminate(){var t;this.protocol.disconnect(),(t=this.worker)==null||t.terminate(),this.worker=null}}class SaiphEngine{constructor(){U(this,"protocol",new Protocol);U(this,"engine",null)}async start(t){this.protocol.performSearch(t),this.engine==null&&(await __wbg_init(),this.engine=Engine.new()),this.engine.set_callback(n=>this.protocol.receive(n)),this.protocol.connect(n=>{var o;return(o=this.engine)==null?void 0:o.send_command(n)})}stop(){this.protocol.performSearch(void 0)}terminate(){this.protocol.disconnect()}}function useEngine(){let e=null;function t(i){r(),e=i}function n(i){e==null||e.start(i)}function o(){e==null||e.stop()}function r(){e==null||e.terminate()}return{start:n,stop:o,terminate:r,swap:t}}const _withScopeId=e=>(pushScopeId("data-v-75fec487"),e=e(),popScopeId(),e),_hoisted_1={class:"modal-box w-[25em] grid grid-cols-[max-content_auto] gap-4"},_hoisted_2=_withScopeId(()=>createBaseVNode("label",null,"Engine",-1)),_hoisted_3=["value"],_hoisted_4=_withScopeId(()=>createBaseVNode("label",null,"Show Evaluation",-1)),_hoisted_5=_withScopeId(()=>createBaseVNode("label",null,"Draw Best Move",-1)),_hoisted_6=_withScopeId(()=>createBaseVNode("label",null,"Search time",-1)),_hoisted_7={class:"flex gap-2"},_hoisted_8={class:"flex min-h-svh max-w-full justify-center portrait:flex-col flex-wrap"},_hoisted_9={class:"min-w-[20em] max-w-[30em] p-2 flex flex-1 bg-base-200 flex-col gap-2"},_hoisted_10={class:"h-10 flex items-center"},_hoisted_11={key:0,class:"font-bold text-2xl inline-block w-20 text-center"},_hoisted_12={key:1,class:"loading loading-bars loading-sm text-center"},_hoisted_13={class:"ml-auto flex gap-2"},_hoisted_14={class:"tooltip tooltip-bottom","data-tip":"Play against computer"},_hoisted_15={class:"swap btn items-unset btn-square btn-neutral btn-sm"},_sfc_main=defineComponent({__name:"App",setup(e){const t=ref(!1),n=ref(!0),o=ref(!0),r=ref(2),i=computed(()=>o.value||n.value||t.value),s=ref(),l=ref(),a=ref(),c=ref(),u=()=>window.crossOriginIsolated,d=()=>typeof WebAssembly=="object"&&WebAssembly.validate(Uint8Array.of(0,97,115,109,1,0,0,0)),v=[{name:"Saiph",make:()=>new SaiphEngine,available:()=>u()&&d()},{name:"Stockfish 16 SIMD",make:()=>new SimpleEngine("stockfish-16/stockfish-nnue-16.js"),available:()=>u()&&d()},{name:"Stockfish 2019-08-15",make:()=>new SimpleEngine("stockfish/stockfish.wasm.js"),available:d}].filter(H=>H.available()),b=ref(v[0]),{state:m,api:P}=useChess(),{start:T,stop:R,terminate:C,swap:F}=useEngine(),V=ref(),B=ref();watch(i,()=>{if(i.value){const H=m.value.viewing.ply-m.value.start.ply,O=m.value.current.history.slice(0,H).map(L=>L.lan);T({currentFen:m.value.viewing.fen,searchMs:m.value.current.playerColor!==void 0?r.value*1e3:void 0,moves:O,ply:m.value.viewing.ply,startPos:m.value.start.fen,shouldStop:!1,emitCurrentMove:L=>B.value=L,emitBestMove:L=>V.value=L})}else V.value=void 0,C()},{immediate:!0}),watch(b,()=>{F(b.value.make());const H=m.value.viewing.ply-m.value.start.ply,O=m.value.current.history.slice(0,H).map(L=>L.lan);T({currentFen:m.value.viewing.fen,searchMs:m.value.current.playerColor!==void 0?r.value*1e3:void 0,moves:O,ply:m.value.viewing.ply,startPos:m.value.start.fen,shouldStop:!1,emitCurrentMove:L=>B.value=L,emitBestMove:L=>V.value=L})},{immediate:!0}),watch(()=>m.value.viewing.fen,()=>{const H=m.value.viewing.ply-m.value.start.ply,O=m.value.current.history.slice(0,H).map(L=>L.lan);V.value=void 0,T({currentFen:m.value.viewing.fen,ply:m.value.viewing.ply,moves:O,searchMs:m.value.current.playerColor!==void 0?1e3:void 0,startPos:m.value.start.fen,shouldStop:!1,emitCurrentMove:L=>B.value=L,emitBestMove:L=>V.value=L})}),watch([V,()=>m.value.current.playerColor,()=>m.value.viewing.orientation],()=>{m.value.current.playerColor&&m.value.current.playerColor!==m.value.current.turnColor&&V.value&&m.value.current.fen===V.value.fen&&P.value.move(V.value.pv[0])}),watch([B,o],()=>{if(B.value&&o.value){const H=B.value.pv[0];P.value.setAutoShapes([{orig:H.from,dest:H.to,brush:"paleBlue"}])}else P.value.setAutoShapes([])});const Y=computed(()=>{if(m.value.viewing.ply===m.value.current.ply&&m.value.current.gameResult)return"-";if(!B.value)return null;const{type:H,value:O}=B.value,L=O>0?"+":"-",j=Math.abs(O);return H==="mate"?`${L}M${Math.abs(j)}`:`${L}${(j/100).toFixed(1)}`}),D=[{key:"ArrowUp",func:()=>P.value.viewStart()},{key:"ArrowDown",func:()=>P.value.viewCurrent()},{key:"ArrowRight",func:()=>P.value.viewNext()},{key:"ArrowLeft",func:()=>P.value.viewPrevious()}];for(const H of D)onKeyStroke(H.key,H.func);return watch([t,()=>m.value.viewing.orientation],()=>{t.value?(P.value.setPlayerColor(m.value.viewing.orientation),R()):P.value.setPlayerColor(void 0)},{immediate:!0}),watch(()=>m.value.current.gameResult,()=>{var H;m.value.current.gameResult&&m.value.current.playerColor&&((H=s.value)==null||H.show())},{immediate:!0}),(H,O)=>{var L;return openBlock(),createElementBlock(Fragment,null,[createVNode(_sfc_main$d,{ref_key:"loadPgnModal",ref:l,onLoad:O[0]||(O[0]=j=>unref(P).loadPgn(j))},null,512),createVNode(_sfc_main$c,{ref_key:"shareGameModal",ref:a,pgn:unref(m).current.pgn,fen:unref(m).viewing.fen},null,8,["pgn","fen"]),createVNode(_sfc_main$2,{ref_key:"gameResultModal",ref:s,"game-result":unref(m).current.gameResult},null,8,["game-result"]),createVNode(_sfc_main$3,{ref_key:"settingsModal",ref:c},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1,[_hoisted_2,withDirectives(createBaseVNode("select",{class:"select select-sm select-bordered w-full max-w","onUpdate:modelValue":O[2]||(O[2]=j=>b.value=j)},[O[1]||(setBlockTracking(-1),O[1]=(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(v),j=>(openBlock(),createElementBlock("option",{key:j.name,value:j},[createTextVNode(toDisplayString(j.name),1)],8,_hoisted_3))),128)),setBlockTracking(1),O[1])],512),[[vModelSelect,b.value]]),_hoisted_4,withDirectives(createBaseVNode("input",{type:"checkbox",class:"toggle toggle-success",checked:"","onUpdate:modelValue":O[3]||(O[3]=j=>n.value=j)},null,512),[[vModelCheckbox,n.value]]),_hoisted_5,withDirectives(createBaseVNode("input",{type:"checkbox",class:"toggle toggle-success",checked:"","onUpdate:modelValue":O[4]||(O[4]=j=>o.value=j)},null,512),[[vModelCheckbox,o.value]]),_hoisted_6,createBaseVNode("div",_hoisted_7,[withDirectives(createBaseVNode("input",{type:"range",min:"1",max:"8","onUpdate:modelValue":O[5]||(O[5]=j=>r.value=j),step:"1",class:"range"},null,512),[[vModelText,r.value]]),createBaseVNode("span",null,toDisplayString(r.value)+"s",1)])])]),_:1},512),createBaseVNode("div",_hoisted_8,[createVNode(_sfc_main$f,{class:"flex-shrink-0 flex-grow-0",api:unref(P),state:unref(m)},null,8,["api","state"]),createBaseVNode("aside",_hoisted_9,[createBaseVNode("div",_hoisted_10,[withDirectives(createBaseVNode("div",null,[Y.value?(openBlock(),createElementBlock("span",_hoisted_11,toDisplayString(Y.value),1)):(openBlock(),createElementBlock("span",_hoisted_12)),createBaseVNode("span",null," depth "+toDisplayString((L=B.value)==null?void 0:L.depth),1)],512),[[vShow,n.value]]),createBaseVNode("div",_hoisted_13,[createBaseVNode("div",_hoisted_14,[createBaseVNode("label",_hoisted_15,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":O[6]||(O[6]=j=>t.value=j)},null,512),[[vModelCheckbox,t.value]]),createVNode(IconParkOutlineTarget,{class:"swap-on size-5 text-success"}),createVNode(IconParkOutlineTarget,{class:"swap-off size-5"})])]),createBaseVNode("button",{class:"btn btn-square btn-sm btn-neutral tooltip tooltip-bottom flex items-center justify-center","data-tip":"Toggle Orientation",onClick:O[7]||(O[7]=j=>unref(P).toggleOrientation())},[createVNode(unref(render$8),{class:"size-5"})]),createBaseVNode("button",{class:"btn btn-square btn-sm btn-neutral tooltip tooltip-bottom flex items-center justify-center","data-tip":"Load Game",onClick:O[8]||(O[8]=j=>{var Z;return(Z=l.value)==null?void 0:Z.show()})},[createVNode(unref(render$1),{class:"size-5"})]),createBaseVNode("button",{class:"btn btn-square btn-sm btn-neutral tooltip tooltip-bottom flex items-center justify-center","data-tip":"Share",onClick:O[9]||(O[9]=j=>{var Z;return(Z=a.value)==null?void 0:Z.show()})},[createVNode(unref(render),{class:"size-5"})]),createBaseVNode("button",{class:"btn btn-square btn-sm btn-neutral tooltip tooltip-bottom tooltip-fix flex items-center justify-center","data-tip":"Settings",onClick:O[10]||(O[10]=j=>{var Z;return(Z=c.value)==null?void 0:Z.show()})},[createVNode(unref(render$9),{class:"size-6"})])])]),createVNode(_sfc_main$4,{state:unref(m)},null,8,["state"]),createVNode(_sfc_main$e,{class:"flex-grow flex-wrap min-h-28 h-full basis-0 overflow-auto",api:unref(P),state:unref(m)},null,8,["api","state"]),createVNode(_sfc_main$b,{api:unref(P),state:unref(m)},null,8,["api","state"])])])],64)}}}),App=_export_sfc(_sfc_main,[["__scopeId","data-v-75fec487"]]);createApp(App).mount("#app");
